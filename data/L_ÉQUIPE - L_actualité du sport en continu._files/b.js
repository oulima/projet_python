function OBOOMR_check_doc_domain(a){if(!a){if(window.parent===window||!document.getElementById("boomr-if-as"))return;if(window.OBOOMR&&OBOOMR.boomerang_frame&&OBOOMR.window)try{OBOOMR.boomerang_frame.document.domain!==OBOOMR.window.document.domain&&(OBOOMR.boomerang_frame.document.domain=OBOOMR.window.document.domain)}catch(a){OBOOMR.isCrossOriginError(a)||OBOOMR.addError(a,"OBOOMR_check_doc_domain.domainFix")}a=document.domain}if(-1!==a.indexOf(".")){try{return void window.parent.document}catch(b){document.domain=a}try{return void window.parent.document}catch(b){a=a.replace(/^[\w\-]+\./,"")}OBOOMR_check_doc_domain(a)}}!function(a){function b(a){return"[object Array]"===Object.prototype.toString.call(a)}function c(){for(var a=0;a<x.length;a++)x[a][0](x[a][1]);x=[],q=!1}function d(a,b){x.push([a,b]),q||(q=!0,w(c,0))}function e(a,b){function c(a){h(b,a)}function d(a){j(b,a)}try{a(c,d)}catch(a){d(a)}}function f(a){var b=a.owner,c=b.state_,d=b.data_,e=a[c],f=a.then;if("function"==typeof e){c=t;try{d=e(d)}catch(a){j(f,a)}}g(f,d)||(c===t&&h(f,d),c===u&&j(f,d))}function g(a,b){var c;try{if(a===b)throw new TypeError("A promises callback cannot return that same promise.");if(b&&("function"==typeof b||"object"==typeof b)){var d=b.then;if("function"==typeof d)return d.call(b,function(d){c||(c=!0,b!==d?h(a,d):i(a,d))},function(b){c||(c=!0,j(a,b))}),!0}}catch(b){return c||j(a,b),!0}return!1}function h(a,b){a!==b&&g(a,b)||i(a,b)}function i(a,b){a.state_===r&&(a.state_=s,a.data_=b,d(l,a))}function j(a,b){a.state_===r&&(a.state_=s,a.data_=b,d(m,a))}function k(a){var b=a.then_;a.then_=void 0;for(var c=0;c<b.length;c++)f(b[c])}function l(a){a.state_=t,k(a)}function m(a){a.state_=u,k(a)}function n(a){if("function"!=typeof a)throw new TypeError("Promise constructor takes a function argument");if(this instanceof n==!1)throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.");this.then_=[],e(a,this)}var o=a.Promise,p=o&&"resolve"in o&&"reject"in o&&"all"in o&&"race"in o&&function(){var a;return new o(function(b){a=b}),"function"==typeof a}();"undefined"!=typeof exports&&exports?(exports.Promise=p?o:n,exports.Polyfill=n):"function"==typeof define&&define.amd?define(function(){return p?o:n}):p||(a.Promise=n);var q,r="pending",s="sealed",t="fulfilled",u="rejected",v=function(){},w="undefined"!=typeof setImmediate?setImmediate:setTimeout,x=[];n.prototype={constructor:n,state_:r,then_:null,data_:void 0,then:function(a,b){var c={owner:this,then:new this.constructor(v),fulfilled:a,rejected:b};return this.state_===t||this.state_===u?d(f,c):this.then_.push(c),c.then},catch:function(a){return this.then(null,a)}},n.all=function(a){var c=this;if(!b(a))throw new TypeError("You must pass an array to Promise.all().");return new c(function(b,c){function d(a){return g++,function(c){f[a]=c,--g||b(f)}}for(var e,f=[],g=0,h=0;h<a.length;h++)e=a[h],e&&"function"==typeof e.then?e.then(d(h),c):f[h]=e;g||b(f)})},n.race=function(a){var c=this;if(!b(a))throw new TypeError("You must pass an array to Promise.race().");return new c(function(b,c){for(var d,e=0;e<a.length;e++)d=a[e],d&&"function"==typeof d.then?d.then(b,c):b(d)})},n.resolve=function(a){var b=this;return a&&"object"==typeof a&&a.constructor===b?a:new b(function(b){b(a)})},n.reject=function(a){return new this(function(b,c){c(a)})}}("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this),Array.prototype.indexOf||(Array.prototype.indexOf=function(a,b){for(var c=b||0,d=this.length;c<d;c++)if(this[c]===a)return c;return-1}),OBOOMR_start=(new Date).getTime(),OBOOMR_check_doc_domain(),function(a){var b,c,d,e,f,g,h,i,j=a;if(a.parent!==a&&document.getElementById("boomr-if-as")&&"script"===document.getElementById("boomr-if-as").nodeName.toLowerCase()&&(a=a.parent,e=document.getElementById("boomr-if-as").src),d=a.document,a.OBOOMR||(a.OBOOMR={}),OBOOMR=a.OBOOMR,!OBOOMR.version){OBOOMR.version="1523618327",OBOOMR.window=a,OBOOMR.boomerang_frame=j,OBOOMR.plugins||(OBOOMR.plugins={});var k={default:"\t\tbackground: #222;\t\tcolor: #bada55;\t\tmargin-right: 10px;\t\t",debug:"\t\tbackground: palegreen;\t\tcolor: darkgreen;\t\tpadding: 0.15em;\t\tmargin-right: 10px;\t\t",info:"\t\tbackground: lightsteelblue;\t\tcolor: midnightblue;\t\tpadding: 0.15em;\t\tmargin-right: 10px;\t\t",trace:"\t\tbackground: plum;\t\tcolor: indigo;\t\tpadding: 0.15em;\t\tmargin-right: 10px;\t\t",warn:"\t\tbackground: lightcoral;\t\tcolor: moccasin;\t\tpadding: 0.15em;\t\tmargin-right: 10px;\t\t",error:"\t\tbackground: firebrick;\t\tcolor: gainsboro;\t\tpadding: 0.15em;\t\tmargin-right: 10px;\t\t"};!function(){try{void 0!==new a.CustomEvent("CustomEvent")&&(f=function(b,c){return new a.CustomEvent(b,c)})}catch(a){}try{!f&&d.createEvent&&d.createEvent("CustomEvent")&&(f=function(a,b){var c=d.createEvent("CustomEvent");return b=b||{cancelable:!1,bubbles:!1},c.initCustomEvent(a,b.bubbles,b.cancelable,b.detail),c})}catch(a){}!f&&d.createEventObject&&(f=function(a,b){var c=d.createEventObject();return c.type=c.propertyName=a,c.detail=b.detail,c}),f||(f=function(){})}(),g=function(a,b,c){function e(){d.dispatchEvent?d.dispatchEvent(g):d.fireEvent&&d.fireEvent("onpropertychange",g)}var g=f(a,{detail:b});g&&(c?OBOOMR.setImmediate(e):e())},void 0!==document.hidden?(h="visibilityState",i="visibilitychange"):void 0!==document.mozHidden?(h="mozVisibilityState",i="mozvisibilitychange"):void 0!==document.msHidden?(h="msVisibilityState",i="msvisibilitychange"):void 0!==document.webkitHidden&&(h="webkitVisibilityState",i="webkitvisibilitychange"),b={beacon_url:"",beacon_type:"AUTO",site_domain:a.location.hostname.replace(/.*?([^.]+\.[^.]+)\.?$/,"$1").toLowerCase(),user_ip:"",autorun:!0,strip_query_string:!1,onloadfired:!1,handlers_attached:!1,events:{page_ready:[],page_unload:[],before_unload:[],dom_loaded:[],visibility_changed:[],before_beacon:[],onbeacon:[],xhr_load:[],click:[],form_submit:[]},public_events:{before_beacon:"onBeforeBoomerangBeacon",onbeacon:"onBoomerangBeacon",onboomerangloaded:"onBoomerangLoaded"},vars:{},errors:{},disabled_plugins:{},xb_handler:function(c){return function(d){var e;d||(d=a.event),d.target?e=d.target:d.srcElement&&(e=d.srcElement),3===e.nodeType&&(e=e.parentNode),e&&"OBJECT"===e.nodeName.toUpperCase()&&"application/x-shockwave-flash"===e.type||b.fireEvent(c,e)}},fireEvent:function(a,b){var c,d,e;if(a=a.toLowerCase(),this.events.hasOwnProperty(a))for(this.public_events.hasOwnProperty(a)&&g(this.public_events[a],b),e=this.events[a],c=0;c<e.length;c++)try{d=e[c],d.fn.call(d.scope,b,d.cb_data)}catch(b){OBOOMR.error(b),b.stack&&OBOOMR.error(b.stack),OBOOMR.addError(b,"fireEvent."+a+"<"+c+">")}}},c={t_lstart:null,t_start:OBOOMR_start,t_end:null,t_onload:void 0,url:e,utils:{objectToString:function(a,b,c){var d,e=[];if(!a||"object"!=typeof a)return a;if(void 0===b&&(b="\n\t"),c||(c=0),"[object Array]"===Object.prototype.toString.call(a)){for(d=0;d<a.length;d++)c>0&&null!==a[d]&&"object"==typeof a[d]?e.push(this.objectToString(a[d],b+("\n\t"===b?"\t":""),c-1)):"&"===b?e.push(encodeURIComponent(a[d])):e.push(a[d]);b=","}else for(d in a)Object.prototype.hasOwnProperty.call(a,d)&&(c>0&&null!==a[d]&&"object"==typeof a[d]?e.push(encodeURIComponent(d)+"="+this.objectToString(a[d],b+("\n\t"===b?"\t":""),c-1)):"&"===b?e.push(encodeURIComponent(d)+"="+encodeURIComponent(a[d])):e.push(d+"="+a[d]));return e.join(b)},getCookie:function(a){if(!a)return null;a=" "+a+"=";var b,c;return c=" "+d.cookie+";",(b=c.indexOf(a))>=0?(b+=a.length,c=c.substring(b,c.indexOf(";",b)).replace(/^"/,"").replace(/"$/,"")):null},setCookie:function(a,c,e){var f,g,h,i,j;if(!a||!b.site_domain)return OBOOMR.debug("No cookie name or site domain: "+a+"/"+b.site_domain),!1;if(f=this.objectToString(c,"&"),g=a+'="'+f+'"',i=[g,"path=/","domain="+b.site_domain],e&&(j=new Date,j.setTime(j.getTime()+1e3*e),j=j.toGMTString(),i.push("expires="+j)),g.length<500){if(d.cookie=i.join("; "),h=this.getCookie(a),f===h)return!0;OBOOMR.warn("Saved cookie value doesn't match what we tried to set:\n"+f+"\n"+h)}else OBOOMR.warn("Cookie too long: "+g.length+" "+g);return!1},getSubCookies:function(a){var b,c,d,e,f=!1,g={};if(!a)return null;if("string"!=typeof a)return OBOOMR.debug("TypeError: cookie is not a string: "+typeof a),null;for(b=a.split("&"),c=0,d=b.length;c<d;c++)e=b[c].split("="),e[0]&&(e.push(""),g[decodeURIComponent(e[0])]=decodeURIComponent(e[1]),f=!0);return f?g:null},removeCookie:function(a){return this.setCookie(a,{},-86400)},cleanupURL:function(a){return a&&"[object Array]"!==Object.prototype.toString.call(a)?b.strip_query_string?a.replace(/\?.*/,"?qs-redacted"):a:""},hashQueryString:function(a,b){return a?a.match?(a.match(/^\/\//)&&(a=location.protocol+a),a.match(/^(https?|file):/)?(b&&(a=a.replace(/#.*/,"")),OBOOMR.utils.MD5?a.replace(/\?([^#]*)/,function(a,b){return"?"+(b.length>10?OBOOMR.utils.MD5(b):b)}):a):(OBOOMR.error("Passed in URL is invalid: "+a),"")):(OBOOMR.addError("TypeError: Not a string","hashQueryString",typeof a),""):a},pluginConfig:function(a,b,c,d){var e,f=0;if(!b||!b[c])return!1;for(e=0;e<d.length;e++)void 0!==b[c][d[e]]&&(a[d[e]]=b[c][d[e]],f++);return f>0},arrayFilter:function(a,b){var c=[];if("function"==typeof a.filter)c=a.filter(b);else for(var d,e=-1,f=a.length;++e<f;)d=a[e],b(d,e,a)&&(c[c.length]=d);return c},addObserver:function(a,b,c,d,e,f){function g(a){var b=!1;h.timer&&(clearTimeout(h.timer),h.timer=null),d&&((b=d.call(f,a,e))||(d=null)),!b&&h.observer&&(h.observer.disconnect(),h.observer=null),"number"==typeof b&&b>0&&(h.timer=setTimeout(g,b))}var h={observer:null,timer:null};return window.MutationObserver&&d&&a?(h.observer=new MutationObserver(g),c&&(h.timer=setTimeout(g,h.timeout)),h.observer.observe(a,b),h):null},addListener:function(a,b,c){a.addEventListener?a.addEventListener(b,c,!1):a.attachEvent&&a.attachEvent("on"+b,c)},removeListener:function(a,b,c){a.removeEventListener?a.removeEventListener(b,c,!1):a.detachEvent&&a.detachEvent("on"+b,c)},pushVars:function(a,b,c){var d,e,f,g=0;for(d in b)if(b.hasOwnProperty(d))if("[object Array]"===Object.prototype.toString.call(b[d]))for(e=0;e<b[d].length;++e)g+=OBOOMR.utils.pushVars(a,b[d][e],d+"["+e+"]");else f=document.createElement("input"),f.type="hidden",f.name=c?c+"["+d+"]":d,f.value=void 0===b[d]||null===b[d]?"":b[d],a.appendChild(f),g+=encodeURIComponent(f.name).length+encodeURIComponent(f.value).length+2;return g},sendData:function(a,c){function d(a){var b=document.getElementById(a);b&&b.parentNode.removeChild(b)}function e(){var b,c="boomerang_post-"+encodeURIComponent(a.action)+"-"+Math.random();try{b=document.createElement('<iframe name="'+c+'">')}catch(a){b=document.createElement("iframe")}a.action=f.shift(),b.name=b.id=c,b.style.display=a.style.display="none",b.src="javascript:false",d(b.id),d(a.id),document.body.appendChild(b),b.appendChild(a);try{a.submit()}catch(a){}f.length&&OBOOMR.setImmediate(e),setTimeout(function(){d(b.id)},1e4)}var f=(document.createElement("input"),[b.beacon_url]);a.method=c,a.id="beacon_form",a.enctype="application/x-www-form-urlencoded",b.secondary_beacons&&b.secondary_beacons.length&&f.push.apply(f,b.secondary_beacons),e()},transpose:function(a){var b,c=[],d=a.length,e=a[0].length;for(b=0;b<e;b++)c.push([]);for(b=0;b<d;b++)for(var f=0;f<e;f++)c[f].push(a[b][f]);return c}},init:function(c){var e,f,g=["beacon_url","beacon_type","site_domain","user_ip","strip_query_string","secondary_beacons","autorun"];if(OBOOMR_check_doc_domain(),c||(c={}),c.primary&&b.handlers_attached)return this;void 0!==c.site_domain&&(this.session.domain=c.site_domain),void 0!==c.log&&(this.log=c.log),this.log||(this.log=function(){});for(f in this.plugins)if(this.plugins.hasOwnProperty(f)){if(c[f]&&c[f].hasOwnProperty("enabled")&&!1===c[f].enabled){b.disabled_plugins[f]=1,"function"==typeof this.plugins[f].disable&&this.plugins[f].disable();continue}if(b.disabled_plugins[f]){if(!c[f]||!c[f].hasOwnProperty("enabled")||!0!==c[f].enabled)continue;"function"==typeof this.plugins[f].enable&&this.plugins[f].enable(),delete b.disabled_plugins[f]}if("function"==typeof this.plugins[f].init)try{this.plugins[f].init(c)}catch(a){OBOOMR.addError(a,f+".init")}}for(e=0;e<g.length;e++)void 0!==c[g[e]]&&(b[g[e]]=c[g[e]]);return b.handlers_attached?this:(b.onloadfired||void 0!==c.autorun&&!1===c.autorun||(d.readyState&&"complete"===d.readyState?(OBOOMR.loadedLate=!0,this.setImmediate(OBOOMR.page_ready_autorun,null,null,OBOOMR)):a.onpagehide||null===a.onpagehide?OBOOMR.utils.addListener(a,"pageshow",OBOOMR.page_ready_autorun):OBOOMR.utils.addListener(a,"load",OBOOMR.page_ready_autorun)),OBOOMR.utils.addListener(a,"DOMContentLoaded",function(){b.fireEvent("dom_loaded")}),function(){var c,e;for(void 0!==i&&(OBOOMR.utils.addListener(d,i,function(){b.fireEvent("visibility_changed")}),OBOOMR.subscribe("visibility_changed",function(){OBOOMR.lastVisibilityEvent[OBOOMR.visibilityState()]=OBOOMR.now()})),OBOOMR.utils.addListener(d,"mouseup",b.xb_handler("click")),c=d.getElementsByTagName("form"),e=0;e<c.length;e++)OBOOMR.utils.addListener(c[e],"submit",b.xb_handler("form_submit"));a.onpagehide||null===a.onpagehide||OBOOMR.utils.addListener(a,"unload",function(){OBOOMR.window=a=null})}(),b.handlers_attached=!0,this)},page_ready_autorun:function(a){b.autorun&&OBOOMR.page_ready(a)},page_ready:function(c){return c||(c=a.event),c||(c={name:"load"}),b.onloadfired?this:(b.fireEvent("page_ready",c),b.onloadfired=!0,this)},setImmediate:function(b,c,d,e){var f,g;"undefined"!=typeof Error&&(g=new Error,g=g.stack?g.stack.replace(/^Error/,"Called"):void 0),f=function(){b.call(e||null,c,d||{},g),f=null},a.setImmediate?a.setImmediate(f):a.msSetImmediate?a.msSetImmediate(f):a.webkitSetImmediate?a.webkitSetImmediate(f):a.mozSetImmediate?a.mozSetImmediate(f):setTimeout(f,10)},now:function(){try{if("performance"in window&&window.performance&&window.performance.now)return function(){return Math.round(window.performance.now()+window.performance.timing.navigationStart)}}catch(a){}return Date.now||function(){return(new Date).getTime()}}(),visibilityState:void 0===h?function(){return"visible"}:function(){return d[h]},lastVisibilityEvent:{},subscribe:function(c,d,e,f){var g,h,i;if(c=c.toLowerCase(),!b.events.hasOwnProperty(c))return this;for(i=b.events[c],g=0;g<i.length;g++)if((h=i[g])&&h.fn===d&&h.cb_data===e&&h.scope===f)return this;return i.push({fn:d,cb_data:e||{},scope:f||null}),"page_ready"===c&&b.onloadfired&&this.setImmediate(d,null,e,f),"page_unload"!==c&&"before_unload"!==c||function(){var g,h=i.length;g=function(g){d&&d.call(f,g||a.event,e),"page_unload"===c&&h===b.events[c].length&&OBOOMR.real_sendBeacon()},"page_unload"===c&&(a.onpagehide||null===a.onpagehide?OBOOMR.utils.addListener(a,"pagehide",g):OBOOMR.utils.addListener(a,"unload",g)),OBOOMR.utils.addListener(a,"beforeunload",g)}(),this},addError:function(a,c,d){var e;"string"!=typeof a&&(e=String(a),e.match(/^\[object/)&&(e=a.name+": "+(a.description||a.message).replace(/\r\n$/,"")),a=e),void 0!==c&&(a="["+c+":"+OBOOMR.now()+"] "+a),d&&(a+=":: "+d),b.errors[a]?b.errors[a]++:b.errors[a]=1},isCrossOriginError:function(a){return"SecurityError"===a.name||"TypeError"===a.name&&"Permission denied"===a.message||"Error"===a.name&&a.message&&a.message.match(/^(Permission|Access is) denied/)},addVar:function(a,c){if("string"==typeof a)b.vars[a]=c;else if("object"==typeof a){var d,e=a;for(d in e)e.hasOwnProperty(d)&&(b.vars[d]=e[d])}return this},removeVar:function(a){var c,d;if(!arguments.length)return this;for(d=1===arguments.length&&"[object Array]"===Object.prototype.toString.apply(a)?a:arguments,c=0;c<d.length;c++)b.vars.hasOwnProperty(d[c])&&delete b.vars[d[c]];return this},hasVar:function(a){return b.vars.hasOwnProperty(a)},requestStart:function(a){var b=OBOOMR.now();return OBOOMR.plugins.RT.startTimer("xhr_"+a,b),{loaded:function(c){OBOOMR.responseEnd(a,b,c)}}},responseEnd:function(a,c,d){"object"==typeof a&&a.url?b.fireEvent("xhr_load",a):(OBOOMR.plugins.RT.startTimer("xhr_"+a,c),b.fireEvent("xhr_load",{name:"xhr_"+a,data:d}))},uninstrumentXHR:function(){},instrumentXHR:function(){},sendBeacon:function(a){return a&&(b.beacon_url=a),b.beaconQueued||(b.beaconQueued=!0,OBOOMR.setImmediate(OBOOMR.real_sendBeacon,null,null,OBOOMR)),!0},real_sendBeacon:function(){var c,e,f,g,h,i=0,j=[],k=0;if(!b.beaconQueued)return!1;b.beaconQueued=!1,OBOOMR.debug("Checking if we can send beacon");for(c in this.plugins)if(this.plugins.hasOwnProperty(c)){if(b.disabled_plugins[c])continue;if(!this.plugins[c].is_complete())return OBOOMR.debug("Plugin "+c+" is not complete, deferring beacon send"),!1}var l="spa"===b.vars["http.initiator"],m=l?d.URL:d.URL.replace(/#.*/,"");b.vars.pgu=OBOOMR.utils.cleanupURL(m),b.vars.u&&!l||(b.vars.u=b.vars.pgu),b.vars.pgu===b.vars.u&&delete b.vars.pgu,b.vars.v=OBOOMR.version,OBOOMR.visibilityState()&&(b.vars["vis.st"]=OBOOMR.visibilityState(),OBOOMR.lastVisibilityEvent.visible&&(b.vars["vis.lv"]=OBOOMR.now()-OBOOMR.lastVisibilityEvent.visible),OBOOMR.lastVisibilityEvent.hidden&&(b.vars["vis.lh"]=OBOOMR.now()-OBOOMR.lastVisibilityEvent.hidden)),b.vars["ua.plt"]=navigator.platform,b.vars["ua.vnd"]=navigator.vendor,a!==window&&(b.vars.if="");for(c in b.errors)b.errors.hasOwnProperty(c)&&j.push(c+(b.errors[c]>1?" (*"+b.errors[c]+")":""));if(j.length>0&&(b.vars.errors=j.join("\n")),b.errors={},b.fireEvent("before_beacon",b.vars),OBOOMR.debug("Ready to send beacon: "+OBOOMR.utils.objectToString(b.vars)),!b.beacon_url)return OBOOMR.debug("No beacon URL, so skipping."),!0;if(OBOOMR.hasVar("restiming"))e=document.createElement("form"),i=OBOOMR.utils.pushVars(e,b.vars);else{h=[];for(c in b.vars)b.vars.hasOwnProperty(c)&&(k++,h.push(encodeURIComponent(c)+"="+(void 0===b.vars[c]||null===b.vars[c]?"":encodeURIComponent(b.vars[c]))));f=b.beacon_url+(b.beacon_url.indexOf("?")>-1?"&":"?")+h.join("&")}if(b.fireEvent("onbeacon",b.vars),0===i&&0===k)return this;if(k){if(g=new Image,g.src=f,b.secondary_beacons)for(c=0;c<b.secondary_beacons.length;c++)f=b.secondary_beacons[c]+"?"+h.join("&"),g=new Image,g.src=f}else OBOOMR.utils.sendData(e,"AUTO"===b.beacon_type?i>2e3?"POST":"GET":"POST");return!0}},delete OBOOMR_start,"number"==typeof OBOOMR_lstart?(c.t_lstart=OBOOMR_lstart,delete OBOOMR_lstart):"number"==typeof OBOOMR.window.OBOOMR_lstart&&(c.t_lstart=OBOOMR.window.OBOOMR_lstart),"number"==typeof OBOOMR.window.OBOOMR_onload&&(c.t_onload=OBOOMR.window.OBOOMR_onload),function(){var a;"object"==typeof console&&void 0!==console.log&&(c.log=function(a,b,c){"debug"===b?OBOOMR.window.localStorage&&OBOOMR.window.localStorage.ONFOCUS_DEBUG&&"vv"===OBOOMR.window.localStorage.ONFOCUS_DEBUG&&console.log("%c ["+b+"] "+c+" ",k[b],a):console.log("%c ["+b+"] "+c+" ",k[b],a)}),a=function(a){return function(b,c){return this.log(b,a,"boomerang"+(c?"."+c:"")),this}},c.debug=a("debug"),c.info=a("info"),c.warn=a("warn"),c.error=a("error")}(),function(){var a;for(a in c)c.hasOwnProperty(a)&&(OBOOMR[a]=c[a]);OBOOMR.xhr_excludes||(OBOOMR.xhr_excludes={})}(),g("onBoomerangLoaded",{OBOOMR:OBOOMR},!0)}}(window),"object"!=typeof JSON&&(JSON={}),function(){"use strict";function f(a){return a<10?"0"+a:a}function this_value(){return this.valueOf()}function quote(a){return rx_escapable.lastIndex=0,rx_escapable.test(a)?'"'+a.replace(rx_escapable,function(a){var b=meta[a];return"string"==typeof b?b:"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+a+'"'}function str(a,b){var c,d,e,f,g,h=gap,i=b[a];switch(i&&"object"==typeof i&&"function"==typeof i.toJSON&&(i=i.toJSON(a)),"function"==typeof rep&&(i=rep.call(b,a,i)),typeof i){case"string":return quote(i);case"number":return isFinite(i)?String(i):"null";case"boolean":case"null":return String(i);case"object":if(!i)return"null";if(gap+=indent,g=[],"[object Array]"===Object.prototype.toString.apply(i)){for(f=i.length,c=0;c<f;c+=1)g[c]=str(c,i)||"null";return e=0===g.length?"[]":gap?"[\n"+gap+g.join(",\n"+gap)+"\n"+h+"]":"["+g.join(",")+"]",gap=h,e}if(rep&&"object"==typeof rep)for(f=rep.length,c=0;c<f;c+=1)"string"==typeof rep[c]&&(d=rep[c],(e=str(d,i))&&g.push(quote(d)+(gap?": ":":")+e));else for(d in i)Object.prototype.hasOwnProperty.call(i,d)&&(e=str(d,i))&&g.push(quote(d)+(gap?": ":":")+e);return e=0===g.length?"{}":gap?"{\n"+gap+g.join(",\n"+gap)+"\n"+h+"}":"{"+g.join(",")+"}",gap=h,e}}var rx_one=/^[\],:{}\s]*$/,rx_two=/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,rx_three=/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,rx_four=/(?:^|:|,)(?:\s*\[)+/g,rx_escapable=/[\\\"\u0000-\u001f\u007f-\u009f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,rx_dangerous=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g;"function"!=typeof Date.prototype.toJSON&&(Date.prototype.toJSON=function(){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+f(this.getUTCMonth()+1)+"-"+f(this.getUTCDate())+"T"+f(this.getUTCHours())+":"+f(this.getUTCMinutes())+":"+f(this.getUTCSeconds())+"Z":null},Boolean.prototype.toJSON=this_value,Number.prototype.toJSON=this_value,String.prototype.toJSON=this_value);var gap,indent,meta,rep;"function"!=typeof JSON.stringify&&(meta={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},JSON.stringify=function(a,b,c){var d;if(gap="",indent="","number"==typeof c)for(d=0;d<c;d+=1)indent+=" ";else"string"==typeof c&&(indent=c);if(rep=b,b&&"function"!=typeof b&&("object"!=typeof b||"number"!=typeof b.length))throw new Error("JSON.stringify");return str("",{"":a})}),"function"!=typeof JSON.parse&&(JSON.parse=function(text,reviver){function walk(a,b){var c,d,e=a[b];if(e&&"object"==typeof e)for(c in e)Object.prototype.hasOwnProperty.call(e,c)&&(d=walk(e,c),void 0!==d?e[c]=d:delete e[c]);return reviver.call(a,b,e)}var j;if(text=String(text),rx_dangerous.lastIndex=0,rx_dangerous.test(text)&&(text=text.replace(rx_dangerous,function(a){return"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})),rx_one.test(text.replace(rx_two,"@").replace(rx_three,"]").replace(rx_four,"")))return j=eval("("+text+")"),"function"==typeof reviver?walk({"":j},""):j;throw new SyntaxError("JSON.parse")})}(),function(){if(!OBOOMR.utils||!OBOOMR.utils.blockers){OBOOMR.utils=OBOOMR.utils||{},OBOOMR.utils.blockers=OBOOMR.utils.blockers||{};var a=OBOOMR.window,b=a.document;OBOOMR.utils.blockers={testTimeout:!1,adblock:!1,trackblock:!1,test:function(){if(OBOOMR.utils.blockers.adblock=!1,OBOOMR.utils.blockers.trackblock=!1,!b.getElementsByClassName("_onf_blk").length){var c=b.createElement("iframe");c.setAttribute("class","_onf_blk"),c.setAttribute("src","javascript:null"),c.setAttribute("style","height: 1px; width: 1px; max-height: 1px; max-width: 1px;overflow: hidden; z-index: -10000000; display: none; background-color: #ffffff; border: 0px solid #ffffff; position:absolute; top: -1px; left: -1px;"),b.body.insertBefore(c,b.body.firstChild);var d=b.createElement("script");d.setAttribute("src","//script.onfocus.io/ad/onfocus.adsense.js"),d.setAttribute("onerror","OBOOMR.utils.blockers.adblock = true;"),c.appendChild(d),a.setTimeout(function(){OBOOMR.utils.blockers.testTimeout=!0},3e3)}}}}}(),null==Number.isInteger&&(Number.isInteger=Number.isInteger||function(a){return"number"==typeof a&&isFinite(a)&&Math.floor(a)===a}),function(){"use strict";if(!OBOOMR.utils||!OBOOMR.utils.indy){OBOOMR.utils=OBOOMR.utils||{};var a=OBOOMR.window,b=a.document,c="_onfocus_a",d=1,e={events:{page_interactive:[],page_ready:[],page_unload:[],click:[]},vars:{},sendURIQuery:function(a,b,c,d,f,g){if(null==d||""===d)return OBOOMR.info("Not sending beacon, empty URI query",a),!1;var h,i;if(h=b+(b.indexOf("?")>-1?"&":"?")+d,i=new Image,null!=g){var j=function(h){g>0?(OBOOMR.warn("Error on beacon response (code "+h+"), retrying in 5 seconds. Retries left: "+g+".",a),OBOOMR.utils.indy.setTimeout(a,5e3,function(){g-=1,e.sendURIQuery(a,b,c,d,f,g)},null,e)):OBOOMR.warn("Error on beacon response, no retries left.",a)};i.onerror=i.onabort=function(){j(1)},i.onload=function(){window.addEventListener&&null==i.naturalWidth&&j(2)}}return i.src=h,OBOOMR.info("Sending "+c+" beacon via URI query: "+h,a),!0},sendJSON:function(a,b,c,d){if(null==d||""===d||"[]"===d||"{}"===d)return OBOOMR.info("Not sending beacon, empty JSON",a),!1;if(navigator.sendBeacon){OBOOMR.info("Sending beacon via sendBeacon+JSON: "+d,a);var e=new Blob([d],{type:"application/json; charset=UTF-8"});navigator.sendBeacon(b,e)}else{var f=new XMLHttpRequest;f.open(c,b),f.setRequestHeader("Content-Type","application/json;charset=UTF-8"),f.send(d),OBOOMR.info("Sending "+c+" beacon via XMLHttpRequest+JSON: "+d,a)}return!0},addListener:function(a,c,d){if(null!=c){if(a.addEventListener)return void a.addEventListener(c,d,!1);if(a.attachEvent){if(a===OBOOMR.window&&(a=a.document),"domcontentloaded"===c.toLowerCase())return void a.attachEvent("onreadystatechange",function(){"interactive"===b.readyState&&d()});if("load"===c)return a===OBOOMR.window&&(a=a.document),void a.attachEvent("onreadystatechange",function(){"complete"===b.readyState&&d()});a.attachEvent("on"+c,d)}}},setImmediate:function(b){a.setImmediate?a.setImmediate(b):a.msSetImmediate?a.msSetImmediate(b):a.webkitSetImmediate?a.webkitSetImmediate(b):a.mozSetImmediate?a.mozSetImmediate(b):setTimeout(b,10)}};OBOOMR.utils.indy={declare:function(a,b){null!=OBOOMR.utils.indy_ids&&OBOOMR.utils.indy_ids.addVarsFor(a,b)},subscribe:function(c,d,f,g,h){var i,j,k=!1;return d=d.toLowerCase(),e.events.hasOwnProperty(d)?(g=g||{},"undefined"!=typeof Error&&(j=new Error,j=j.stack?j.stack.replace(/^Error/,"Called"):void 0),i=function(b){if(f){try{f.call(h||null,b||a.event,g,j)}catch(a){OBOOMR.error(a,c)}"page_interactive"!==d&&"page_ready"!==d&&"page_unload"!==d||(f=null)}},"page_interactive"!==d||!b.readyState||"interactive"!==b.readyState&&"complete"!==b.readyState||(OBOOMR.debug("setImmediate page_interactive","indy"),g.__latePageInteractive=!0,e.setImmediate(i),k=!0),"page_ready"===d&&b.readyState&&"complete"===b.readyState&&(OBOOMR.debug("setImmediate page_ready","indy"),g.__latePageReady=!0,e.setImmediate(i),k=!0),k?this:("page_interactive"===d&&e.addListener(a,"DOMContentLoaded",i),"page_ready"===d?(a.onpageshow||null===a.onpageshow?e.addListener(a,"pageshow",i):e.addListener(a,"load",i),this):("page_unload"===d&&(a.onpagehide||null===a.onpagehide?e.addListener(a,"pagehide",i):e.addListener(a,"unload",i),e.addListener(a,"beforeunload",i)),e.addListener(a,d,i),this))):(OBOOMR.warn("Unknown e_name: "+d,c),this)},setInterval:function(b,c,d,e,f){var g,h;"undefined"!=typeof Error&&(h=new Error,h=h.stack?h.stack.replace(/^Error/,"Called"):void 0),g=function(){if(d)try{d.call(f||null,e,h)}catch(a){OBOOMR.error(a,b)}},a.setInterval(g,c)},setTimeout:function(b,c,d,e,f){var g,h;"undefined"!=typeof Error&&(h=new Error,h=h.stack?h.stack.replace(/^Error/,"Called"):void 0),g=function(){if(d)try{d.call(f||null,e,h)}catch(a){OBOOMR.error(a,b)}},a.setTimeout(g,c)},addVar:function(a,b,c){if(null==e.vars[a]&&(e.vars[a]={}),"string"==typeof b)e.vars[a][b]=c;else if("object"==typeof b){var d,f=b;for(d in f)f.hasOwnProperty(d)&&(e.vars[a][d]=f[d])}return this},getVar:function(a,b){return null!=e.vars[a]&&null!=e.vars[a][b]?e.vars[a][b]:null},removeVar:function(a,b){return null!=e.vars[a]&&null!=e.vars[a][b]&&delete e.vars[a][b],this},removeVars:function(a,b){if(null!=e.vars[a])for(var c in b)null!=e.vars[a][b[c]]&&delete e.vars[a][b[c]];return this},removeAllVars:function(a){return e.vars[a]={},this},sendURIQuery:function(a,b,f,g,h){var i=JSON.parse(this.getLocalData(c))||{};if(!(i.sr&&i.sr>d)){if(null==b||""===b)return void OBOOMR.error("Empty beaconUrl for: "+a,"indy");var j=e.vars[a],k=this.incrementVersion(a,j);null!=k&&(null!=g&&(j=g(j)),e.sendURIQuery(a,b,f,j,k,h))}},sendJSON:function(a,b,f,g){var h=JSON.parse(this.getLocalData(c))||{};if(!(h.sr&&h.sr>d)){if(null==b||""===b)return void OBOOMR.error("Empty beaconUrl for: "+a,"indy");var i=e.vars[a];null!=this.incrementVersion(a,i)&&(null!=g&&(i=g(i)),e.sendJSON(a,b,"POST",i))}},encoders:{uriQuery:function(a){var b,c=[];for(b in a)a.hasOwnProperty(b)&&c.push(encodeURIComponent(b)+"="+(void 0===a[b]||null===a[b]?"":encodeURIComponent(a[b])));return c.join("&")},json:function(a){return JSON.stringify(a)}},getLocalData:function(b){var c="{}";return OBOOMR.utils.getCookie(b)&&""!==OBOOMR.utils.getCookie(b)?(c=OBOOMR.utils.getCookie(b),-1===c.indexOf('"uid"')&&(c=decodeURI(c))):a.localStorage&&a.localStorage[b]&&""!==a.localStorage[b]&&(c=a.localStorage[b]),c},setLocalData:function(b,c,d){a.localStorage?(a.localStorage[b]=c,OBOOMR.utils.getCookie(b)&&OBOOMR.utils.removeCookie(b)):OBOOMR.utils.setCookie(b,encodeURI(c),d)},incrementVersion:function(a,b){if(null==b)return OBOOMR.error("Empty `vars`, cannot add beacon version `v` for: "+a,"indy"),null;if(null==b.v)b.v=1;else{if(!Number.isInteger(b.v))return OBOOMR.error("Invalid beacon version `v` for: "+a,"indy"),null;b.v+=1}return b.v}}}}(),function(){"use strict";if(!OBOOMR.utils||!OBOOMR.utils.indy_ids){OBOOMR.utils=OBOOMR.utils||{};var a=OBOOMR.utils.indy,b="_onfocus_a",c=OBOOMR.window,d={generateUUID:function(){var a=(new Date).getTime();window.performance&&"function"==typeof window.performance.now&&(a+=window.performance.now());var b="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(b){var c=(a+16*Math.random())%16|0;return a=Math.floor(a/16),("x"===b?c:3&c|8).toString(16)});return b=b.replace(/[a-z0-9]+/g,function(a){return parseInt(a,16).toString(36)}),b=b.replace(/-/g,function(){return""})},isNewSession:function(a){if(null==a.sid||null==a.lv)return!0;var b=(new Date).getTime(),c=a.lv,d=b-c;return d<0||d>18e5},maxAge:31536e3,fillAndGetCookie:function(c){var d=a.getLocalData(b);return d=null==d?{}:JSON.parse(d),null==d.uid&&(d.uid=this.generateUUID()),null==d.sr&&(d.sr=Math.round(100*Math.random())/100),this.isNewSession(d)?(OBOOMR.debug("New session",c),d.sid=(new Date).getTime(),d.sid2=this.generateUUID()):null==d.sid2&&(d.sid2=this.generateUUID()),d.lv=(new Date).getTime(),a.setLocalData(b,JSON.stringify(d),this.maxAge),d},vid:null,getVid:function(){return null==this.vid&&(this.vid=(new Date).getTime()),this.vid},pvid:null,getPvid:function(){return null==this.pvid&&(this.pvid=this.generateUUID()),this.pvid}};OBOOMR.utils.indy_ids={generateUUID:d.generateUUID,resetPvid:function(b){d.pvid=d.generateUUID(),a.removeVar(b,"pvid"),a.addVar(b,"pvid",d.getPvid())},getPvid:function(){return d.getPvid()},getUidAndSid:function(a){var b=d.fillAndGetCookie(a);return{uid:b.uid,sid:b.sid2}},addVarsFor:function(b,e){var f=d.fillAndGetCookie(b);null==e&&(e={aid:1,uid:1,sid:1,vid:1}),e.aid&&a.addVar(b,"aid",c.ONFOCUS.app_id),e.uid&&a.addVar(b,"uid",f.uid),e.sid&&a.addVar(b,"sid",f.sid),e.vid&&a.addVar(b,"vid",d.getVid()),e.appid&&a.addVar(b,"appid",c.ONFOCUS.app_id),e.sid2&&a.addVar(b,"sid",f.sid2),e.pvid&&a.addVar(b,"pvid",d.getPvid())}}}}(),function(){if(!OBOOMR.utils||!OBOOMR.utils.onfocus_elems){OBOOMR.utils=OBOOMR.utils||{},OBOOMR.utils.onfocus_elems=OBOOMR.utils.onfocus_elems||{};var a=OBOOMR.window,b=a.document,c=OBOOMR.utils.EventEmitter||{},d={slots:{},sasIdRegex:/^sas_[\d]+$/};OBOOMR.utils.onfocus_elems={autoDetectAdserver:function(a){var b=a.getAttribute("id");if(b)if(OBOOMR.utils.onfocus_refresh&&OBOOMR.utils.onfocus_refresh.dfp&&OBOOMR.utils.onfocus_refresh.dfp.hasGoogletag()){if(OBOOMR.utils.onfocus_refresh.dfp.getSlot(b))return"dfp"}else if(OBOOMR.utils.onfocus_refresh&&OBOOMR.utils.onfocus_refresh.sas&&OBOOMR.utils.onfocus_refresh.sas.hasSAS()&&RegExp(d.sasIdRegex).test.rawId)return"sas"},getLocalSlot:function(a,b){return d.slots.hasOwnProperty(b)?d.slots[b]:d.slots[b]={onf_id:b,raw_id:a.getAttribute("id"),adserver:this.autoDetectAdserver(a),filled:!1}},countChilds:function(b){for(var c=0,d=[b],e=0;e<d.length;e++){c++;var f=[];if(d[e].tagName&&"iframe"===d[e].tagName.toLowerCase()){var g=d[e].src
;if((-1!==g.indexOf(a.location.origin)||""===g)&&OBOOMR.utils.onfocus_utils.canAccessIFrame(d[e])){f=(d[e].contentDocument||d[e].contentWindow.document).body.childNodes}f.length||(f=[],c+=10)}else d[e]&&d[e].tagName&&(f=d[e].childNodes);for(var h=0;h<f.length;h++)d.push(f[h])}return c},filledFallback:function(a){var b=a.getBoundingClientRect().top,c=a.getBoundingClientRect().bottom,d=c-b,e=a.getBoundingClientRect().left,f=a.getBoundingClientRect().right,g=f-e;return d>50&&g>50&&OBOOMR.utils.onfocus_elems.countChilds(a)>=5},isAdFilled:function(a,b){var c=this.getLocalSlot(a,b);return c?(c.filled||("dfp"===c.adserver?c.filled=!!OBOOMR.utils.onfocus_refresh.dfp.isFilled(a):"sas"===c.adserver?c.filled=!!OBOOMR.utils.onfocus_refresh.sas.isFilled(a):c.filled=!!this.filledFallback(a)),!!c.filled):(OBOOMR.debug("no slot"),!1)},getAdID:function(b){return b.getAttribute("onf-id")?b.getAttribute("onf-id"):a.ONFOCUS.ad_get_id?a.ONFOCUS.ad_get_id(b):a.ONFOCUS.ad_id_attribute?b.getAttribute(a.ONFOCUS.ad_id_attribute):b.id},getFirstPrintId:function(a){var b=a.getAttribute("onf-fpid");return b||this.getAdID(a)},setOnfId:function(a,b){b=b||"",a.getAttribute("onf-id")||a.setAttribute("onf-id",this.getAdID(a)+b)},getOnfId:function(a){return a.getAttribute("onf-id")},getAdElements:function(){var d=[],e=[];if(a.ONFOCUS.get_ad_query_selector&&""!==a.ONFOCUS.get_ad_query_selector())e=b.querySelectorAll(a.ONFOCUS.get_ad_query_selector());else if(a.ONFOCUS.ad_query_selector&&""!==a.ONFOCUS.ad_query_selector)e=b.querySelectorAll(a.ONFOCUS.ad_query_selector);else{var f=a.ONFOCUS.ad_class||"onf-ad";e=b.getElementsByClassName(f)}for(var g=0;g<e.length;g++){var h=e[g];if(h){a.ONFOCUS.beforeAddAdElement&&"function"==typeof a.ONFOCUS.beforeAddAdElement&&a.ONFOCUS.beforeAddAdElement(h),this.setOnfId(h);var i=OBOOMR.utils.onfocus_elems.getAdID(h),j=h.getAttribute("onf-gid")||null,k=h.getAttribute("onf-fpid")||null,l=h.getAttribute("onf-adname")||null,m=h.getAttribute("onf-fpadname")||null,n=OBOOMR.utils.onfocus_elems.isAdFilled(h,i),o=null,p=!(a.onfocus_donotrefresh||a.onfocus_donotrefresh_slots&&-1!==a.onfocus_donotrefresh_slots.indexOf(i+"")||a.desactive_onfocus),q=a.ONFOCUS.loadedads&&a.ONFOCUS.loadedads[i]?a.ONFOCUS.loadedads[i]:null;null!=i&&(d.push({el:h,id:i,dfp_position:o,gid:j,fpid:k,filled:n,adname:l,fpadname:m,refable:p,camptype:q}),n&&OBOOMR.utils.onfocus_adloox&&OBOOMR.utils.onfocus_adloox.add({el:h,ad_id:i}),"function"==typeof c.emit&&c.emit("getAdElement",{el:h,id:i,dfp_position:o,gid:j,fpid:k,filled:n,adname:l,fpadname:m,refable:p,camptype:q}))}}return d},searchAd:function(a){var c,d,e=OBOOMR.utils.onfocus_elems.getAdElements().map(function(a){return a.el});for(d=null!=a?a.target:b.activeElement;null==c&&null!==d.parentElement&&d!==d.parentElement&&(-1!==e.indexOf(d)&&(c=OBOOMR.utils.onfocus_elems.getAdID(d)),!c);)d=d.parentElement;return c}}}}(),function(){function a(a){this.message=a,this.name="MissingUtilPluginException"}function b(){var a=top.location.href;-1!==a.indexOf("m.lequipe")&&top.ONFOCUS.currentPage!==a&&(top.ONFOCUS.app_id="10301",top.ONFOCUS.currentPage=top.location.href,top.OBOOMR&&top.OBOOMR.utils&&top.OBOOMR.utils.onfocus_utils&&top.OBOOMR.utils.onfocus_utils.resetAll(function(){top.OBOOMR.utils.indy_ids.resetPvid()}))}if(!OBOOMR.utils.onfocus_elems)throw new a("onfocus_elems plugin must be loaded before this custom script.");var c=OBOOMR.window,d=["#dfp_pave-1","#dfp_pave-2","#dfp_pave-3","#dfp_banniere-basse","#dfp_banniere-haute","#dfp_banniere-flux-1","#dfp_banniere-flux-2","#dfp_banniere-flux-autopromo","#dfp_betting-ticker","#dfp_betting-pied-article","#dfp_betting-banniere-article","#dfp_inRead","#dfp_interstitiel","#DFP-IN-ARTICLE-2","#DFP-BANNIERE-HAUTE","#DFP-BANNIERE-HAUTE-1","#DFP-BANNIERE-HAUTE-2","#DFP-BANNIERE-HAUTE-3","#DFP-BANNIERE-HAUTE-4","#DFP-BANNIERE-HAUTE-5","#DFP-BANNIERE-HAUTE-8","#DFP-BANNIERE-HAUTE-11","#DFP-BANNIERE-START-1","#DFP-BANNIERE-PIED-ARTICLE-3","#DFP-NATIVE-11","#DFP-NATIVE-22","#DFP-INTERSTITIEL"];c.ONFOCUS.ad_query_selector=d.join(","),c.ONFOCUS.ad_get_id=function(a){var b=a.getAttribute("onf-id");return b||a.id},c.ONFOCUS.ad_get_name=function(a){return a.id.slice(4)},"string"==typeof c.s28&&"string"==typeof c.s18&&(c.ONFOCUS.pagetype=c.s28,c.ONFOCUS.category=c.s18.replace(/-/g,"_").replace(/\s/g,"_")),c.ONFOCUS.getInnerAdQuerySelector=function(){return"div[id^=google_ads_] > iframe"},"m.lequipe.fr"===c.location.hostname&&(c.ONFOCUS.currentPage=c.location.href,c.setInterval(b,500))}(),function(){"use strict";if(!OBOOMR.utils||!OBOOMR.utils.onfocus_refresh){OBOOMR.utils=OBOOMR.utils||{},OBOOMR.utils.onfocus_refresh=OBOOMR.utils.onfocus_refresh||{};var a=OBOOMR.window,b={percentile:80,sampling:1,minClicks:1e3,pageExposureTimeMin:3e4,minRefreshTime:15e3,minRefreshTimeRandom:5e3,maxRefreshTime:2e4,maxRefreshAllowed:2,autoSendPixel:!0,refreshIDs:{},canRefresh:function(a,b){return!(!a||!b)},afterCanRefresh:function(a,b){return!(!a||!b)},beforeRefresh:function(a,b){return new Promise(function(a,b){a()})},refresh:function(a,b){return!(!a||!b)},afterRefresh:function(a,b){return!(!a||!b)}},c={initialized:!1,init:function(a){OBOOMR.utils.onfocus_refresh.initialized||(b.percentile=a.percentile?a.percentile:b.percentile,b.sampling=a.sampling?a.sampling:b.sampling,b.minClicks=a.minClicks?a.minClicks:b.minClicks,b.minRefreshTime=a.minRefreshTime?a.minRefreshTime:b.minRefreshTime,b.pageExposureTimeMin=a.pageExposureTimeMin?a.pageExposureTimeMin:b.pageExposureTimeMin,b.minRefreshTimeRandom=a.minRefreshTimeRandom?a.minRefreshTimeRandom:b.minRefreshTimeRandom,b.maxRefreshTime=a.maxRefreshTime?a.maxRefreshTime:b.maxRefreshTime,b.maxRefreshAllowed=a.maxRefreshAllowed?a.maxRefreshAllowed:b.maxRefreshAllowed,b.refreshIDs=a.refreshIDs?a.refreshIDs:b.refreshIDs,b.autoSendPixel=a.autoSendPixel?a.autoSendPixel:b.autoSendPixel,b.canRefresh=a.canRefresh?a.canRefresh:b.canRefresh,b.afterCanRefresh=a.afterCanRefresh?a.afterCanRefresh:b.afterCanRefresh,b.beforeRefresh=a.beforeRefresh?a.beforeRefresh:b.beforeRefresh,b.refresh=a.refresh?a.refresh:b.refresh,b.afterRefresh=a.afterRefresh?a.afterRefresh:b.afterRefresh,OBOOMR.utils.onfocus_refresh.initialized=!0)},getPageExposureTimeMin:function(){return b.pageExposureTimeMin},getRefreshTime:function(a){return!!a&&(a.refreshTime?a.refreshTime:(a.refreshTime=b.minRefreshTime+b.minRefreshTimeRandom*Math.random(),a.refreshTime))},getViewabilityMapPresenceTime:function(a){return c.getTimeBeforeRefresh(a)},getTimeBeforeRefresh:function(a){return!!a&&(new Date).getTime()-a.addedAt},getSlotExposureTime:function(a){return a.algos.publs.time},getPrintNumber:function(a){var b=OBOOMR.utils.onfocus_elems.getAdID(a);if(OBOOMR.utils.onfocus_elems.getFirstPrintId(a)===b||!a.getAttribute("onf-fpid"))return 1;var c=b.slice(-2);return"-"===c.slice(0,1)&&(c=parseInt(c.slice(-1),10))},setOnfocusId:function(a){a=a||{},a.element=a.hasOwnProperty("element")?a.element:null,a.start_number=a.hasOwnProperty("start_number")?a.start_number:0,a.max_refreshes=a.hasOwnProperty("max_refreshes")?a.max_refreshes:2;var b=a.element,c=OBOOMR.utils.onfocus_elems.getAdID(b),d=OBOOMR.utils.onfocus_elems.getFirstPrintId(b),e=OBOOMR.utils.onfocus_elems.getOnfId(b);if(!c)return OBOOMR.warn("No currentID"),!1;if(b.getAttribute("onf-fpid")){var f=c.slice(-2);if("-"===f.slice(0,1)){if(f=parseInt(f.slice(-1),10),Number.isInteger(f)&&f===a.max_refreshes)return!1;e=c.slice(0,-1)+(f+1)}b.setAttribute("onf-id",e)}else e+="-2",b.setAttribute("onf-fpid",d),b.setAttribute("onf-id",e);return!0},canRefresh:function(d){d=d||{},d.DOMElement=d.hasOwnProperty("element")?d.element:null,d.after_check=d.hasOwnProperty("after_check")?d.after_check:function(){return!0};var e=d.DOMElement,f=OBOOMR.utils.onfocus_elems.getAdID(e);return!e||a.ONFOCUS.donotrefresh||a.onfocus_donotrefresh||a.onfocus_donotrefresh_slots&&-1!==a.onfocus_donotrefresh_slots.indexOf(f)||a.ONFOCUS.donotrefresh_slots&&-1!==a.ONFOCUS.donotrefresh_slots.indexOf(f)?(OBOOMR.debug("donotrefresh triggered for: "+f),!1):c.getPrintNumber(d.DOMElement)>=b.maxRefreshAllowed?(OBOOMR.debug("Max refreshs reached for: "+f),!1):d.after_check({element:e,current_id:f})},refreshAd:function(a,d,e){return OBOOMR.debug("Start Refresh process. id: "+d),"function"!=typeof b.refresh?(OBOOMR.error("You must define a refresh method"),!1):c.canRefresh({element:a,after_check:function(){return b.canRefresh(a,d,e)}})?"function"!=typeof b.afterCanRefresh||b.afterCanRefresh(a,d)?(b.beforeRefresh(a,d,e).then(function(f){c.setOnfocusId({element:a,max_refreshes:b.maxRefreshAllowed}),b.refresh(a,d,e,f).then(function(f){OBOOMR.info("Refresh done: "+d);var g=OBOOMR.utils.onfocus_utils.getViewabilityData()[d];if(b.autoSendPixel){var h=OBOOMR.utils.onfocus_elems.getFirstPrintId(a),i=c.getPrintNumber(a);OBOOMR.plugins.indy_insights_refresh&&OBOOMR.plugins.indy_insights_refresh.send({fp_id:h,ad_id:d,pn:i,vmt:c.getViewabilityMapPresenceTime(g),xt:c.getRefreshTime(g),t:c.getSlotExposureTime(g)})}b.afterRefresh(a,d,e,f)},function(a){OBOOMR.warn(a)})},function(a){OBOOMR.warn(a)}),!0):(OBOOMR.warn("CanRefresh aborted."),!1):(OBOOMR.info("cannot refresh check "+d),!1)}};OBOOMR.utils.onfocus_refresh=c}}(),function(){"use strict";var a=window.top.OBOOMR||{};a.utils=a.utils||{},a.utils.onfocus_refresh=a.utils.onfocus_refresh||{},a.utils.onfocus_refresh.tools={};var b=a.window;a.utils.onfocus_refresh.tools.replaceWithIframe=function(a){a=a||{},a.DOMElement=a.hasOwnProperty("element")?a.element:null,a.current_iframe=a.hasOwnProperty("current_iframe")?a.current_iframe:null,a.content=a.hasOwnProperty("content")?a.content:null,a.before_append_iframe=a.hasOwnProperty("before_append_iframe")?a.before_append_iframe:function(){return!0},a.on_load_iframe=a.hasOwnProperty("on_load_iframe")?a.on_load_iframe:function(){return!0};var c=b.document.createElement("iframe"),d=a.DOMElement;a.current_iframe?(c.style=a.current_iframe,c.scrolling=a.current_iframe.scrolling,c.frameBorder=a.current_iframe.frameBorder,c.width=a.current_iframe.clientWidth,c.height=a.current_iframe.clientHeight):(c.scrolling="no",c.frameBorder=0,c.marginwidth=0,c.marginheight=0),"function"==typeof a.before_append_iframe&&a.before_append_iframe({iframe:c,parent:d}),d.innerHTML="",d.appendChild(c);var e=b.setInterval(function(){c.contentWindow&&c.contentWindow.document&&"complete"===c.contentWindow.document.readyState&&("function"==typeof a.on_load_iframe&&a.on_load_iframe({iframe:c,parent:d}),b.clearInterval(e))},100);c.contentWindow.document.open(),c.contentWindow.document.write(a.content),c.contentWindow.document.close()}}(),function(){"use strict";if(!OBOOMR.utils||!OBOOMR.utils.onfocus_utils){OBOOMR.utils=OBOOMR.utils||{},OBOOMR.utils.onfocus_utils=OBOOMR.utils.onfocus_utils||{};var a=OBOOMR.utils.onfocus_elems||{},b=OBOOMR.utils.onfocus_refresh||{},c=(OBOOMR.utils.blockers,OBOOMR.window),d=c.document,e={addEvent:function(a,b,c){var d;return d=!1,function(a,b,c){return d||(d=a.addEventListener?function(a,b,c){return a.addEventListener(b,c,!1)}:a.attachEvent?function(a,b,c){return a.attachEvent("on"+b,c,!1)}:function(a,b,c){return a["on"+b]=c(),a["on"+b]}),d(a,b,c)}}(),removeEvent:function(a,b,c){a.removeEventListener?a.removeEventListener(b,c,!1):a.detachEvent("on"+b,c)},ifVisible:function(){var a,b,f,g,h,i,j,k,l,m,n,o,p;return j={},b=d,l=!1,m="active",h=3e4,g=!1,a=function(){var a,b,c,d,e,f;return a=function(){return(65536*(1+Math.random())|0).toString(16).substring(1)},p=function(){return a()+a()+"-"+a()+"-"+a()+"-"+a()+"-"+a()+a()+a()},e={},c="__ceGUID",b=function(a,b,d){return a[c]=void 0,a[c]||(a[c]="ifvisible.object.event.identifier"),e[a[c]]||(e[a[c]]={}),e[a[c]][b]||(e[a[c]][b]=[]),e[a[c]][b].push(d)},d=function(a,b,d){var f,g,h,i,j;if(a[c]&&e[a[c]]&&e[a[c]][b]){for(i=e[a[c]][b],j=[],g=0,h=i.length;g<h;g++)f=i[g],j.push(f(d||{}));return j}},f=function(a,b,d){var f,g,h,i,j;if(d){if(a[c]&&e[a[c]]&&e[a[c]][b])for(j=e[a[c]][b],g=h=0,i=j.length;h<i;g=++h)if((f=j[g])===d)return e[a[c]][b].splice(g,1),f}else if(a[c]&&e[a[c]]&&e[a[c]][b])return delete e[a[c]][b]},{add:b,remove:f,fire:d}}(),function(a,c){var d;return b.createEventObject?a.fireEvent("on"+c,d):(d=b.createEvent("HTMLEvents"),d.initEvent(c,!0,!0),!a.dispatchEvent(d))},i=function(){var a,c,d,e,f;for(e=void 0,f=3,d=b.createElement("div"),a=d.getElementsByTagName("i"),c=function(){return d.innerHTML="\x3c!--[if gt IE "+ ++f+"]><i></i><![endif]--\x3e",a[0]};c(););return f>4?f:e}(),f=!1,o=void 0,void 0!==b.hidden?(f="hidden",o="visibilitychange"):void 0!==b.mozHidden?(f="mozHidden",o="mozvisibilitychange"):void 0!==b.msHidden?(f="msHidden",o="msvisibilitychange"):void 0!==b.webkitHidden&&(f="webkitHidden",o="webkitvisibilitychange"),n=function(){var a,d;return a=!1,d=function(){return clearTimeout(a),"active"!==m&&j.wakeup(),g=+new Date,a=setTimeout(function(){return"active"===m?j.idle():null},h)},d(),e.addEvent(b,"mousemove",d),e.addEvent(b,"keyup",d),e.addEvent(b,"touchstart",d),e.addEvent(c,"scroll",d),j.focus(d),j.wakeup(d)},k=function(){var a;return!!l||(!1===f?(a="blur",i<9&&(a="focusout"),e.addEvent(c,a,function(){return j.blur()}),e.addEvent(c,"focus",function(){return j.focus()})):e.addEvent(d,o,function(){return b[f]?j.blur():j.focus()},!1),l=!0,n())},j={setIdleDuration:function(a){return h=1e3*a},getIdleDuration:function(){return h},getIdleInfo:function(){var a,b;return a=+new Date,b={},"idle"===m?(b.isIdle=!0,b.idleFor=a-g,b.timeLeft=0,b.timeLeftPer=100):(b.isIdle=!1,b.idleFor=a-g,b.timeLeft=g+h-a,b.timeLeftPer=(100-100*b.timeLeft/h).toFixed(2)),b},focus:function(b){return"function"==typeof b?this.on("focus",b):(m="active",a.fire(this,"focus"),a.fire(this,"wakeup"),a.fire(this,"statusChanged",{status:m})),this},blur:function(b){return"function"==typeof b?this.on("blur",b):(m="hidden",a.fire(this,"blur"),a.fire(this,"idle"),a.fire(this,"statusChanged",{status:m})),this},idle:function(b){return"function"==typeof b?this.on("idle",b):(m="idle",a.fire(this,"idle"),a.fire(this,"statusChanged",{status:m})),this},wakeup:function(b){return"function"==typeof b?this.on("wakeup",b):(m="active",a.fire(this,"wakeup"),a.fire(this,"statusChanged",{status:m})),this},on:function(b,c){return k(),a.add(this,b,c),this},off:function(b,c){return k(),a.remove(this,b,c),this},onEvery:function(a,b){var c,d;return k(),c=!1,b&&(d=setInterval(function(){return"active"===m&&!1===c?b():null},1e3*a)),{stop:function(){return clearInterval(d)},pause:function(){return c=!0},resume:function(){return c=!1},code:d,callback:b}},now:function(a){return k(),m===(a||"active")}}}(),getHorizontalViewability:function(a){var b=c.innerWidth,d=a.getBoundingClientRect().left,e=a.getBoundingClientRect().right,f=e-d,g=0;return d>b?g=0:e<=0?g=0:d>=0&&e<=b?g=1:d<0&&e>b?g=b/f:d<0&&e<=b?g=e/f:d>=0&&e>b&&(g=(b-d)/f),Math.round(1e4*g)/100},getVerticalViewability:function(a){var b=c.innerHeight,d=a.getBoundingClientRect().top,e=a.getBoundingClientRect().bottom,f=e-d,g=0;return d>b?g=0:e<=0?g=0:d>=0&&e<=b?g=1:d<0&&e>b?g=b/f:d<0&&e<=b?g=e/f:d>=0&&e>b&&f>0&&(g=(b-d)/f),Math.round(1e4*g)/100},getSurfaceViewability:function(a){var b=e.getVerticalViewability(a),c=e.getHorizontalViewability(a),d=b*c;return Math.round(d)/100},getDimensions:function(a){return{h:Math.round(a.getBoundingClientRect().bottom-a.getBoundingClientRect().top),w:Math.round(a.getBoundingClientRect().right-a.getBoundingClientRect().left)}},getPosition:function(a,b){var e=!1;"none"===a.style.display&&b&&(a.style.display="",e=!0);var f=a.getBoundingClientRect(),g=d.documentElement,h=d.body,i=d.clientTop||h.clientTop||0,j=d.clientLeft||h.clientLeft||0,k=c.pageYOffset||g.scrollTop||h.scrollTop,l=c.pageXOffset||g.scrollLeft||h.scrollLeft;return e&&(a.style.display="none"),{x:Math.round(f.left+l-j),y:Math.round(f.top+k-i)}},getIsPartlyInViewPort:function(a){var b=!1;"none"===a.style.display&&(a.style.display="",b=!0);var d=c.innerHeight,e=a.getBoundingClientRect().top,f=a.getBoundingClientRect().bottom;return b&&(a.style.display="none"),e>0&&e<d||f>0&&f<d||e<0&&f>d},getTopPosition:function(){return d.documentElement.scrollTop||d.body.scrollTop},getLeftPosition:function(){return d.documentElement.scrollLeft||d.body.scrollLeft},getBottomPosition:function(){return(d.documentElement.scrollTop||d.body.scrollTop)+(d.documentElement.clientHeight||c.innerHeight)},getViewportDimensions:function(){var a,b;return null!=c.innerWidth?(a=c.innerWidth,b=c.innerHeight):null!=d.documentElement&&null!=d.documentElement.clientWidth&&0!==d.documentElement.clientWidth?(a=d.documentElement.clientWidth,b=d.documentElement.clientHeight):(a=d.getElementsByTagName("body")[0].clientWidth,b=d.getElementsByTagName("body")[0].clientHeight),{h:b,w:a}},getPageHeight:function(){var a=d.body,b=d.documentElement;return c===c.top?Math.max(a.scrollHeight,a.offsetHeight,b.clientHeight,b.scrollHeight,b.offsetHeight):Math.max(a.offsetHeight,b.scrollHeight,b.offsetHeight)},getAttentionMeta:function(a,b,c){var d=e.getPageHeight();return 0===a&&0===b?{top:0,bottom:d,zoneHeight:d/c}:a>0&&b<0?!(a-b>d)&&{top:a,bottom:d+b,zoneHeight:(d-a+b)/c}:0===a&&b>0?{top:a,bottom:d>b?b:d,zoneHeight:b/c}:a<0&&0===b&&{top:d>-a?d+a:0,bottom:d,zoneHeight:-a/c}},getWidthIn:function(a,b,c){var d=e.getPosition(a),f=e.getDimensions(a);return d.x>c?0:d.x+f.w<b?0:d.x>=b&&d.x+f.w<=c?f.w:d.x<b&&d.x+f.w>c?c-b:d.x<b&&d.x+f.w<=c?d.x+f.w-b:d.x>=b&&d.x+f.w>c?c-d.x:0},getHeightIn:function(a,b,c){var d=e.getPosition(a),f=e.getDimensions(a);return d.y>c?0:d.y+f.h<b?0:d.y>=b&&d.y+f.h<=c?f.h:d.y<b&&d.y+f.h>c?c-b:d.y<b&&d.y+f.h<=c?d.y+f.h-b:d.y>=b&&d.y+f.h>c?c-d.y:0},getElSlotShare:function(a,b,d){var f=e.getHeightIn(a,b,d),g=e.getWidthIn(a,c.pageXOffset,c.pageXOffset+c.innerWidth),h=e.getDimensions(a),i=f*g,j=(d-b)*c.innerWidth,k=h.h*h.w;return{slot:0!==k&&i/k>=.5?1:0,share:0===j?0:i/j}},getSlotShare:function(a,b,c){var d,f=e.monitoredElements,g=e.getPageHeight();c?(d=a,a-b<0?a=0:a-=b):d=a+b>g?g:a+b;var h=0,i=0;return f.forEach(function(b){if(b.el){var c=e.getElSlotShare(b.el,a,d);h+=c.slot,i+=c.share}}),{slots:Math.round(100*h),shares:Math.min(Math.round(100*i),100)}},getClutterState:function(a,b,c,d){var f=e.getPageHeight(),g=e.getAttentionMeta(a,b,c),h=[];if(d)for(var i=0;i<c;i++)g.bottom-i*g.zoneHeight>=0&&g?h.push(e.getSlotShare(g.bottom-i*g.zoneHeight,g.zoneHeight,d)):h.push({slots:-1,shares:-1});else for(var i=0;i<c;i++)g.top+i*g.zoneHeight<=f&&g?h.push(e.getSlotShare(g.top+i*g.zoneHeight,g.zoneHeight,d)):h.push({slots:-1,shares:-1});return h},resetAttentionStates:function(){e.topAttentionState={previousPosition:{},attentionMap:[]},e.bottomAttentionState={previousPosition:{},attentionMap:[]},e.middleAttentionState={previousPosition:{},attentionMap:[]},e.pageAttentionState={previousPosition:{},attentionMap:[]}},updateAttentionStates:function(){e.updateAttentionState(e.topAttentionState,0,3e3,30),e.updateAttentionState(e.bottomAttentionState,-3e3,-0,30,!0),e.updateAttentionState(e.middleAttentionState,3e3,-3e3,1),e.updateAttentionState(e.pageAttentionState,0,-0,1)},updateAttentionState:function(a,b,c,d,f){if(!(a.previousPosition&&a.previousPosition.time&&Date.now()-a.previousPosition.time<500)){var g=e.getPageHeight(),h=e.getAttentionMeta(b,c,d),i=1e4,j={time:Date.now(),top:e.getTopPosition(),bottom:e.getBottomPosition(),active:e.ifVisible.now("active")};if(f)for(var k=0;k<d;k++)a.attentionMap[k]=null!=a.attentionMap[k]?a.attentionMap[k]:-1,h.bottom-k*h.zoneHeight>=0&&-1===a.attentionMap[k]&&h&&(a.attentionMap[k]=0);else for(var k=0;k<d;k++)a.attentionMap[k]=null!=a.attentionMap[k]?a.attentionMap[k]:-1,h.top+k*h.zoneHeight<=g&&-1===a.attentionMap[k]&&h&&(a.attentionMap[k]=0);if(a.previousPosition.active){var l=j.time-a.previousPosition.time;if(l<i)if(f)for(var k=0;k<d;k++)h.bottom-(k+.5)*h.zoneHeight>=j.top&&h.bottom-(k+.5)*h.zoneHeight<=j.bottom&&(a.attentionMap[k]+=l);else for(var k=0;k<d;k++)0===b&&0===c?a.attentionMap[k]+=l:h.top+(k+.5)*h.zoneHeight>=j.top&&h.top+(k+.5)*h.zoneHeight<=j.bottom?a.attentionMap[k]+=l:b>0&&c<0&&1===d&&h.top<=j.bottom&&h.bottom>=j.top&&(a.attentionMap[k]+=l)}a.previousPosition=j}},setAttentionListener:function(){e.addEvent(d,"resize",e.updateAttentionStates),e.addEvent(c,"scroll",e.updateAttentionStates),e.ifVisible.on("blur",e.updateAttentionStates),e.ifVisible.on("focus",e.updateAttentionStates),e.ifVisible.on("idle",e.updateAttentionStates),e.ifVisible.on("active",e.updateAttentionStates)},attentionTimer:null,attentionMonitoringStarted:null,setAttentionTimer:function(){e.attentionTimer=c.setInterval(e.updateAttentionStates,1e3)},startAttentionMonitoring:function(){e.resetAttentionStates(),e.updateAttentionStates(),e.setAttentionListener(),e.setAttentionTimer(),e.attentionMonitoringStarted=!0},algos:[{id:"publs",surface:50,delayFirst:1e3,delayNext:0,waitAdLoad:!0,waitAdServer:!1},{id:"adsrv",surface:50,delayFirst:1e3,delayNext:0,waitAdLoad:!0,waitAdServer:!0}],lastUpdateOfViewabilityMap:null,viewabilityData:{},pageExposureStartTime:!1,monitoredElements:[],dirtyElementsAt:(new Date).getTime(),getCurrentViewability:function(a){return{vertical:e.getVerticalViewability(a),horizontal:e.getHorizontalViewability(a),surface:e.getSurfaceViewability(a),isPartlyInViewPort:e.getIsPartlyInViewPort(a),displayedPosition:e.getPosition(a,!0),dimensions:e.getDimensions(a),time:Date.now(),active:e.ifVisible.now("active")}},updateViewabilityFunction:function(a,b,c,d,e,f,g,h,i){if(b.algos[c].waitAdServer=i,b.algos[c].start&&null!=b.algos[c].last&&b.algos[c].last.surface>=d&&b.algos[c].last.active&&(b.filled||!h)){var j=a.time-b.algos[c].start.time,k=a.time-b.algos[c].last.time;(j>=e||j>=f&&!b.algos[c].first)&&(b.algos[c].measuring?(b.algos[c].time+=k,null!=b.algos[c].last_send&&Math.floor(b.algos[c].last_send/1e3)===Math.floor(b.algos[c].time/1e3)||(b.dirty=!0)):(b.harddirty=!!b.algos[c].time,b.algos[c].time=b.algos[c].time?b.algos[c].time+j:j,null!=b.algos[c].last_send&&Math.floor(b.algos[c].last_send/1e3)===Math.floor(b.algos[c].time/1e3)||(b.dirty=!0),b.algos[c].measuring=!0,b.algos[c].views=b.algos[c].views?b.algos[c].views+1:1,b.algos[c].first=!1)),b.algos[c].last=a}else a.surface>=d&&a.active?b.algos[c].start=a:b.algos[c].start=null,b.algos[c].measuring=!1,b.algos[c].last=a},anyElementChangeIn:function(a){return e.monitoredElements.map(function(a){return a.id}).sort().join(",")!==a.map(function(a){return a.id}).sort().join(",")},updateViewabilityMap:function(b){if(b=b||e.algos,null!==e.lastUpdateOfViewabilityMap&&(new Date).getTime()-e.lastUpdateOfViewabilityMap<100)return void OBOOMR.debug("Cannot update viewability map.");e.lastUpdateOfViewabilityMap=(new Date).getTime();var d=a.getAdElements();e.anyElementChangeIn(d)&&(e.dirtyElementsAt=(new Date).getTime()),e.monitoredElements=d;for(var f=0;f<e.monitoredElements.length;f++){var g=e.monitoredElements[f].el,h=e.monitoredElements[f].id,i=e.monitoredElements[f].gid,j=e.monitoredElements[f].fpid,k=e.monitoredElements[f].adname,l=e.monitoredElements[f].fpadname,m=e.monitoredElements[f].dfp_position,n=e.monitoredElements[f].filled,o=e.monitoredElements[f].refable,p=!!c.ONFOCUS.lazyLoadedAdIds&&-1!==c.ONFOCUS.lazyLoadedAdIds.indexOf(h),q=e.monitoredElements[f].camptype,r=e.getDimensions(g),s=e.getPosition(g),t=e.getCurrentViewability(g);if(e.viewabilityData[h]){if(e.viewabilityData[h].filled&&!n||"unfilled"===q){e.viewabilityData[h].dirty=!0;for(var u=0;u<b.length;u++)(!b[u].waitAdServer||null!=m&&c.googletag&&c.googletag.pubads()&&c.googletag.pubads().da&&c.googletag.pubads().da[m]&&c.googletag.pubads().da[m].getResponseInformation())&&(e.viewabilityData[h].algos[b[u].id]={start:null,last:null,measuring:!1,first:!0,time:null,views:null,last_send:null})}null!=m&&c.googletag&&c.googletag.pubads()&&c.googletag.pubads().da&&c.googletag.pubads().da[m]&&c.googletag.pubads().da[m].getResponseInformation()&&null==e.viewabilityData[h].algos.adsrv&&(e.viewabilityData[h].algos.adsrv={start:null,last:null,measuring:!1,first:!0,time:null,views:null,last_send:null}),e.viewabilityData[h].el=g,e.viewabilityData[h].h=r.h,e.viewabilityData[h].w=r.w,e.viewabilityData[h].x=s.x,e.viewabilityData[h].y=s.y,e.viewabilityData[h].gid=i,e.viewabilityData[h].fpid=j,e.viewabilityData[h].adname=k,e.viewabilityData[h].dfp_position=m,e.viewabilityData[h].fpadname=l,e.viewabilityData[h].filled=n,e.viewabilityData[h].refable=o,e.viewabilityData[h].camptype=q,t.isPartlyInViewPort&&!e.viewabilityData[h].inViewportAt&&(e.viewabilityData[h].inViewportAt=Date.now())}else{e.viewabilityData[h]={el:g,h:r.h,w:r.w,x:s.x,y:s.y,gid:i,fpid:j,adname:k,fpadname:l,dfp_position:m,filled:n,refable:o,dirty:!0,harddirty:!0,lazyLoaded:p,camptype:q,addedAt:(new Date).getTime(),filledAt:n?(new Date).getTime():null,inViewportAt:t.surface>0?(new Date).getTime():null,algos:{}};for(var u=0;u<b.length;u++)(!b[u].waitAdServer||m&&c.googletag&&c.googletag.pubads()&&c.googletag.pubads().da&&c.googletag.pubads().da[m]&&c.googletag.pubads().da[m].getResponseInformation())&&(e.viewabilityData[h].algos[b[u].id]={start:null,last:null,measuring:!1,first:!0,time:null,views:null,last_send:null})}for(u=0;u<b.length;u++)null!=e.viewabilityData[h].algos[b[u].id]&&e.updateViewabilityFunction(t,e.viewabilityData[h],b[u].id,b[u].surface,b[u].delayFirst,b[u].delayNext,g,b[u].waitAdLoad,b[u].waitAdServer)}},resetViewability:function(){e.viewabilityData={},e.pageExposureStartTime=!1,e.setPageExposureStartTime()},setViewabilityListener:function(a){e.addEvent(window,"DOMContentLoaded",function(){e.setPageExposureStartTime()}),e.addEvent(window,"resize",function(){e.updateViewabilityMap(a)}),e.addEvent(window,"scroll",function(){e.updateViewabilityMap(a)}),e.ifVisible.on("blur",function(){e.updateViewabilityMap(a)}),e.ifVisible.on("focus",function(){e.updateViewabilityMap(a)}),e.ifVisible.on("idle",function(){e.updateViewabilityMap(a)}),e.ifVisible.on("active",function(){e.updateViewabilityMap(a)})},viewabilityTimer:null,setViewabilityTimer:function(a){e.viewabilityTimer=setInterval(function(){e.updateViewabilityMap(a)},1e3)},clearViewabilityTimer:function(){clearInterval(e.viewabilityTimer)},startViewabilityMap:function(b){e.setPageExposureStartTime(),e.monitoredElements=a.getAdElements(),e.updateViewabilityMap(b),e.setViewabilityListener(b),e.setViewabilityTimer(b)},setPageExposureStartTime:function(){"interactive"!==d.readyState&&"complete"!==d.readyState||e.pageExposureStartTime||(OBOOMR.info("Set page exposure start time"),e.pageExposureStartTime=(new Date).getTime())},pageExposureTime:function(){return(new Date).getTime()-e.pageExposureStartTime},refreshAds:function(){if(b.getRefreshTime)for(var a=0;a<e.monitoredElements.length;a++){var d,f=e.monitoredElements[a].el,g=e.getCurrentViewability(f),h=e.monitoredElements[a].id,i=!!e.viewabilityData[h].alreadyRefreshed,j=e.viewabilityData[h].inViewportAt||Date.now(),k=e.viewabilityData[h].addedAt||Date.now(),l=e.viewabilityData[h].filled,m=e.viewabilityData[h].lazyLoaded,n=e.viewabilityData[h].algos.publs.time||0;try{d=b.getRefreshTime(e.viewabilityData[h],h)}catch(a){d=1/0}i||e.pageExposureTime()>b.getPageExposureTimeMin()&&(n>d?(b.refreshAd(f,h,!1,!1),e.viewabilityData[h].alreadyRefreshed=!0):n+3500>d&&-1!==["10701","1031"].indexOf(c.ONFOCUS.app_id)?(b.refreshAd(f,h,!1,!0),e.viewabilityData[h].alreadyRefreshed=!0):Date.now()-j>15e3&&!l&&!m&&g.isPartlyInViewPort&&(g.displayedPosition.y>1e3||g.displayedPosition.y<1e3&&Date.now()-k>3e4)&&(b.refreshAd(f,h,!0,!1),e.viewabilityData[h].alreadyRefreshed=!0))}},startRefreshCheck:function(){e.refreshTimer=setInterval(function(){e.refreshAds()},1e3)}};OBOOMR.utils.onfocus_utils={initialized:!1,viewabilityMapStarted:!1,addEvent:e.addEvent,removeEvent:e.removeEvent,getPosition:function(a){return e.getPosition(a)},getPageHeight:function(){return e.getPageHeight()},resetUtilsTimers:function(){clearInterval(e.attentionTimer),clearInterval(e.viewabilityTimer),clearInterval(e.refreshTimer)},getAttentionStates:function(){return{top:e.topAttentionState,bottom:e.bottomAttentionState,middle:e.middleAttentionState,page:e.pageAttentionState}},getClutterStates:function(){return{top:e.getClutterState(0,3e3,3),bottom:e.getClutterState(-3e3,-0,3,!0),middle:e.getClutterState(3e3,-3e3,1),page:e.getClutterState(0,-0,1)}},getAttentionMeta:function(a,b,c){return e.getAttentionMeta(a,b,c)},getViewabilityData:function(){return e.viewabilityData},getMonitoredElements:function(){return e.monitoredElements},anyDirtyElementsAfter:function(a){return a<=e.dirtyElementsAt},getViewportDimensions:function(){return e.getViewportDimensions()},getViewportDimensionsPosition:function(){var a=e.getViewportDimensions(),b=e.getTopPosition(),c=e.getLeftPosition();return{h:a.h,w:a.w,t:b,l:c}},onVisibleEvent:e.ifVisible.on,ifVisibleNow:e.ifVisible.now,init:function(){if(!OBOOMR.utils.onfocus_utils.initialized){e.ifVisible.now();var a=OBOOMR.utils.onfocus_utils.getSegments(),b={msgType:"iqWebsiteData",version:1,appID:c.ONFOCUS.app_id,pagetype:a.pagetype,category:a.category,documentHeight:e.getPageHeight()};window.parent.postMessage(b,"*"),OBOOMR.utils.onfocus_utils.initialized=!0}},getSegments:function(){var a={pagetype:"_",category:"_"};if(c.ONFOCUS.pagetype&&""!==c.ONFOCUS.pagetype?a.pagetype=c.ONFOCUS.pagetype:c.ONFOCUS.get_pagetype&&""!==c.ONFOCUS.get_pagetype()&&(a.pagetype=c.ONFOCUS.get_pagetype()),c.ONFOCUS.category&&""!==c.ONFOCUS.category?a.category=c.ONFOCUS.category:c.ONFOCUS.get_category&&""!==c.ONFOCUS.get_category()&&(a.category=c.ONFOCUS.get_category()),c.ONFOCUS.queue&&c.ONFOCUS.queue.segment)for(var b in c.ONFOCUS.queue.segment)if(c.ONFOCUS.queue.segment.hasOwnProperty(b)){var d=c.ONFOCUS.queue.segment[b];(d.name&&"pagetype"===d.name||"category"===d.name)&&(a[d.name]=d.value&&""!==d.value?d.value.replace(/[^A-Za-z0-9\u00C0-\u017F]/g,"-"):"_")}return a},startAttentionMonitoring:function(){OBOOMR.utils.onfocus_utils.attentionMonitoringStarted||e.startAttentionMonitoring()},startRefreshCheck:function(){e.startRefreshCheck()},startViewabilityMap:function(){if(!OBOOMR.utils.onfocus_utils.viewabilityMapStarted||0===OBOOMR.utils.onfocus_utils.getMonitoredElements().length){if(0===OBOOMR.utils.onfocus_elems.getAdElements().length)return void c.setTimeout(function(){OBOOMR.utils.onfocus_utils.startViewabilityMap()},500);e.startViewabilityMap(e.algos),OBOOMR.utils.onfocus_utils.viewabilityMapStarted=!0,b.refreshAd?c.setTimeout(function(){OBOOMR.utils.onfocus_utils.startRefreshCheck()},5e3):OBOOMR.warn("no refreshAd found")}},updateViewabilityMap:function(a){e.updateViewabilityMap(a)},getPageExposureTime:function(){return e.pageExposureTime()},searchAd:function(b){return a.searchAd(b)},toDecisec:function(a){return a.map(function(a){return null==a?null:-1===a?-1:Math.round(a/100)})},shallowEquals:function(a,b){if(null==b||null==a)return!1;var c=0,d=0;for(var e in a){if(a.hasOwnProperty(e)&&a[e]!==b[e])return!1;c++}for(var e in b)b.hasOwnProperty(e)&&d++;return c===d},resetAll:function(a){e.resetAttentionStates(),e.resetViewability(),"function"==typeof a?a(this):(OBOOMR.plugins.indy_insights_uxp.sendTiming(),OBOOMR.plugins.indy_insights_blockers.sendBlocker(),OBOOMR.utils.indy_ids.resetPvid())},debug:function(a,b){if(b=b||"log",-1!==c.location.search.indexOf("onfocusdebug=1"))try{console[b]("[ONFOCUS] "+a)}catch(a){console.error(a.message)}},canAccessIFrame:function(a){var b=null;try{b=(a.contentDocument||a.contentWindow.document).body.innerHTML}catch(a){}return null!==b},isBrowser:function(a){var b=!1;return"opera"===a?b=!!c.opr&&!!c.opr.addons||!!c.opera||navigator.userAgent.indexOf(" OPR/")>=0:"firefox"===a?b="undefined"!=typeof InstallTrigger:"safari"===a?b=/constructor/i.test(c.HTMLElement)||function(a){return"[object SafariRemoteNotification]"===a.toString()}(!c.safari||void 0!==c.safari&&c.safari.pushNotification):"iexplorer"===a?b=!!document.documentMode:"edge"===a?b=!this.isBrowser("iexplorer")&&!!c.StyleMedia:"chrome"===a?b=!!c.chrome&&!!c.chrome.webstore:"blink"===a&&(b=(this.isBrowser("chrome")||this.isBrowser("opera"))&&!!c.CSS),b},serialize:function(a){var b=[]
;for(var c in a)a.hasOwnProperty(c)&&b.push(encodeURIComponent(c)+"="+encodeURIComponent(a[c]));return b.join("&")},uriParser:function(a){var b=document.createElement("a"),c="",d={};b.href=a,c=b.search.slice(1).split("&")||[];for(var e=0,f=c.length;e<f;e++){var g=c[e].split("=");d[g[0]]=g[1]}return{protocol:b.protocol,hostname:b.hostname,port:b.port,pathname:b.pathname,search:b.search,searchParsed:d,hash:b.hash,host:b.host}},throttle:function(a,b){var c;return function(){var d=arguments,e=this;c||(a.apply(e,d),c=!0,setTimeout(function(){c=!1},b))}},isEmptyObject:function(a){for(var b in a)return a.hasOwnProperty(b),!1;return JSON.stringify(a)===JSON.stringify({})},isPhone:function(){var a=c.navigator.userAgent;return a.indexOf("Mobile")>=0&&a.indexOf("iPad")<0}}}}(),function(){"use strict";OBOOMR.utils=OBOOMR.utils||{},OBOOMR.utils.onfocus_refresh=OBOOMR.utils.onfocus_refresh||{};var a=OBOOMR.utils.onfocus_refresh,b=OBOOMR.window,c=b.document,d={resizeAd:function(a,c){b.setTimeout(function(){console.log("timer");var b=OBOOMR.utils.onfocus_utils.getViewabilityData();console.log(b),b[c]&&!1===b[c].filled&&(a.style.minHeight="1px")},4e3)},domain:"//print2lpm1.com",getConfigFromPlacement:function(a,c){var d,e,f,g;if(f=b.ONFOCUS.getInnerAdQuerySelector(),(d=a.querySelector(f))&&OBOOMR.utils.onfocus_utils.canAccessIFrame(d)){if(g=d.contentWindow.document.querySelector("div[id^=asq_tag_]"),d.contentWindow.rp_account_config&&d.contentWindow.rp_account_config.rp_site&&d.contentWindow.rp_account_config.rp_zonesize)return d.contentWindow.rp_account_config;if(g)return{asqTag:g,asqTagId:g.id,dataSizes:g.getAttribute("data-sizes")};if(e=d.contentWindow.document.body.querySelector("iframe"),OBOOMR.utils.onfocus_utils.canAccessIFrame(e)){if(e.contentWindow.rp_account_config&&e.contentWindow.rp_account_config.rp_site&&e.contentWindow.rp_account_config.rp_zonesize)return e.contentWindow.rp_account_config;if(g=e.contentWindow.document.querySelector("div[id^=asq_tag_]"))return{asqTag:g,asqTagId:g.id,dataSizes:g.getAttribute("data-sizes")}}}return!1},getSecondPrintLocationUrl:function(a,b){if(!b)return!1;var e;if(b.asqTag){OBOOMR.debug("Try to load ASQ 2nd print for "+b.asqTagId);var f=b.asqTagId;b.dataSizes&&(f+="-d"),e=c.location.protocol+d.domain+"/"+top.ONFOCUS.app_id+"/"+f+"/r.html"}else e=c.location.protocol+d.domain+"/"+top.ONFOCUS.app_id+"/"+b.rp_site+"/"+b.rp_zonesize+"/r.html";return e}},e={maxRefreshAllowed:2,minRefreshTime:b.ONFOCUS.minRefreshTime||15e3,canRefresh:function(a,b,c){return!0},beforeRefresh:function(a,b){return new Promise(function(c,e){var f=d.getConfigFromPlacement(a,b);if(!f)return e(new Error("No LPM configuration found to refresh ad "+b));var g=d.getSecondPrintLocationUrl(b,f);if(g){var h=new XMLHttpRequest;return h.onreadystatechange=function(){return this.readyState===XMLHttpRequest.DONE?200===this.status?c(this.responseText):e(new Error("httprequest failed")):this},h.open("GET",g,!0),h.send(null),h}return e(new Error("No LPM location found to refresh ad "+b))})},refresh:function(a,c,d,e){return new Promise(function(c,d){return a.parentElement?(OBOOMR.utils.onfocus_refresh.tools.replaceWithIframe({element:a,content:'<html><body style="margin: 0; padding:0; border: 0;">'+e+"</body></html>",before_append_iframe:function(a){-1!==["30013","30027"].indexOf(b.ONFOCUS.app_id)&&(a.iframe.style.margin="0 auto",a.iframe.style.display="block")}}),c()):d(new Error("no parent"))})}};a.init(e)}(),function(){if(!OBOOMR.plugins.refresh){var a=OBOOMR.utils.indy,b=OBOOMR.utils.onfocus_utils,c="refresh",d={initialized:!1,started:!1,start:function(){this.started||(b.init(),b.startViewabilityMap(),this.started=!0)}};OBOOMR.plugins.refresh={init:function(b){var e=[];return OBOOMR.utils.pluginConfig(d,b,c,e),d.initialized||(a.declare(c),a.subscribe(c,"page_interactive",d.start,null,d),a.subscribe(c,"page_ready",d.start,null,d),d.initialized=!0),this},is_complete:function(){return!0}}}}(),function(){if(!OBOOMR.plugins.indy_insights_refresh){var a=OBOOMR.utils.indy,b=OBOOMR.utils.indy_ids,c="indy_insights_refresh",d={initialized:!1,indy_url:"",send:function(e){if(e=e||{},e.ad_id=e.ad_id||null,e.fp_id=e.fp_id||null,e.pn=e.pn||null,e.xt=e.xt||null,e.vmt=e.vmt||null,e.t=e.t||null,!(e.ad_id&&e.fp_id&&e.pn&&e.vmt&&e.xt&&e.t))return void OBOOMR.warn("Pixel ir.gif cannot be sent. Missing parameter(s).");a.addVar(c,"adid",e.fp_id),a.addVar(c,"pn",e.pn),a.addVar(c,"algo","publs"),a.addVar(c,"fv",1),a.addVar(c,"t",Math.round(e.t/100)),a.addVar(c,"pt",Math.round(OBOOMR.utils.onfocus_utils.getPageExposureTime()/100)),a.addVar(c,"xt",Math.round(e.xt/100)),a.addVar(c,"vmt",Math.round(e.vmt/100)),a.removeVar(c,"pvid"),a.addVar(c,"pvid",b.getPvid()),a.sendURIQuery(c,d.indy_url,"GET",a.encoders.uriQuery,5)}};OBOOMR.plugins.indy_insights_refresh={init:function(b){var e=["indy_url"];return OBOOMR.utils.pluginConfig(d,b,c,e),d.initialized||(a.declare(c,{appid:1,uid:1,sid2:1,pvid:1}),d.initialized=!0),this},is_complete:function(){return!0},send:function(a){d.send(a)}}}}(),function(){if(!OBOOMR.plugins.indy_insights_uxp){var a=OBOOMR.utils.transpose,b=OBOOMR.utils.indy,c=OBOOMR.utils.indy_ids,d=OBOOMR.utils.blockers,e="indy_insights_uxp",f=OBOOMR.window,g={initialized:!1,complete:!1,retried:!1,indy_url:"",pageReadyComplete:!1,isPositive:function(a){return null!=a&&a>0},done:function(d){if(!g.complete||d){var h,i;if((h=f.performance||f.msPerformance||f.webkitPerformance||f.mozPerformance)&&h.timing&&h.navigation){if(OBOOMR.info("This user agent supports NavigationTiming.",e),i=h.timing,!g.retried&&0===i.loadEventEnd){OBOOMR.warn("loadEventEnd is at 0, retrying in 1 second",e),g.complete=!1;var j=this;return void f.setTimeout(function(){j.retried=!0,j.done()},1e3)}var k=i.navigationStart;if(g.isPositive(k)){var l=[],m=function(a,b,c){g.isPositive(b)&&(c||(b-=k),g.isPositive(b)&&b<=12e4&&l.push([a,b]))};if(b.removeVar(e,"loa_e"),f.ONFOCUS.loading_end&&f.ONFOCUS.loading_start&&d?m("loa_e",f.ONFOCUS.loading_end-f.ONFOCUS.loading_start,!0):m("loa_e",i.loadEventEnd),0===l.length)return void OBOOMR.warn("No timing to send. No beacon will be sent.",e);l=a(l),b.addVar(e,"tnames",l[0]),b.addVar(e,"tvalues",l[1])}}b.removeVar(e,"pvid"),b.addVar(e,"pvid",c.getPvid());var n=OBOOMR.utils.onfocus_utils.getSegments();b.removeVar(e,"pagetype"),b.addVar(e,"pagetype",n.pagetype),b.sendURIQuery(e,g.indy_url,"GET",b.encoders.uriQuery,5),g.complete=!0}},page_ready:function(a,c){null!=d?(d.test(),setTimeout(function(){d.adblock||d.trackblock?b.addVar(e,"blocker",1):b.addVar(e,"blocker",0),null!=d&&(g.done(a,c),g.pageReadyComplete=!0)},1e3)):(g.done(a,c),g.pageReadyComplete=!0)},page_unload:function(a,b){g.done(a,b)}};OBOOMR.plugins.indy_insights_uxp={init:function(a){var c=["indy_url"];return OBOOMR.utils.pluginConfig(g,a,e,c),g.initialized||(b.declare(e,{appid:1,uid:1,sid2:1,pvid:1}),b.subscribe(e,"page_ready",g.page_ready,null,g),b.subscribe(e,"page_unload",g.page_unload,null,g),g.initialized=!0),this},sendTiming:function(){g.done(!0)},is_complete:function(){return!0}}}}(),function(){if(!OBOOMR.plugins.indy_insights_blockers){var a=OBOOMR.utils.indy,b=OBOOMR.utils.indy_ids,c=OBOOMR.utils.onfocus_elems,d=OBOOMR.utils.blockers,e="indy_insights_blockers",f=OBOOMR.window,g={intialized:!1,started:!1,ads_by_id:{},previous_ads_count:0,send_once:!1,indy_url:"",start:function(c){if(!g.started||c){var d=OBOOMR.utils.onfocus_utils.getSegments();a.removeVar(e,"pvid"),a.addVar(e,"pvid",b.getPvid()),a.removeVar(e,"category"),a.addVar(e,"category",d.category),g.send(),g.started=!0}},send:function(){a.setTimeout(e,5e3,g.send,null,g);for(var b=c.getAdElements(),d=0;d<b.length;d++){var f=b[d];null==f.id?OBOOMR.warn("ad/slot without id",e):g.ads_by_id[f.id]=f}var h=Object.keys(g.ads_by_id).length;(h>g.previous_ads_count||!g.send_once)&&(a.addVar(e,"ads",h),a.sendURIQuery(e,g.indy_url,"GET",a.encoders.uriQuery,5),g.send_once=!0,g.previous_ads_count=h)},page_ready:function(b,c){null!=d?(d.test(),f.setTimeout(function(){d.adblock||d.trackblock?a.addVar(e,"blocker",1):a.addVar(e,"blocker",0),g.start(b,c)},2e3)):g.start(b,c)}};OBOOMR.plugins.indy_insights_blockers={init:function(b){var c=["indy_url"];return OBOOMR.utils.pluginConfig(g,b,e,c),g.initialized||(a.declare(e,{appid:1,uid:1,sid2:1,pvid:1}),a.subscribe(e,"page_ready",g.page_ready,null,g),g.initialized=!0),this},sendBlocker:function(){g.previous_ads_count=0,g.send_once=!1,g.start(!0)},is_complete:function(){return!0}}}}(),function(){if(!OBOOMR.plugins.indy_insights_viewability){var a=OBOOMR.utils.indy,b=OBOOMR.utils.indy_ids,c=OBOOMR.utils.onfocus_utils,d=OBOOMR.utils.transpose,e=OBOOMR.utils.blockers,f="indy_insights_viewability",g=OBOOMR.window,h=g.document,i={intialized:!1,started:!1,indy_url:"",currentActiveIframe:null,mousePosition:{},lastsend:null,monitorIframes:function(){var a=function(){var a=h.activeElement;a&&a.tagName&&"iframe"===a.tagName.toLowerCase()?c.ifVisibleNow()||i.searchAd():i.currentActiveIframe=null};setInterval(a,500)},start:function(){this.started||(c.init(),c.startViewabilityMap(),g.focus(),c.onVisibleEvent("focus",function(){h.activeElement}),c.addEvent(g,"click",i.searchAd),i.monitorIframes(),c.addEvent(g,"mousemove",function(a){i.mousePosition.x=a.clientX,i.mousePosition.y=a.clientY}),i.send(),a.subscribe(f,"page_unload",function(){i.send(null,!0)},null,i),this.started=!0)},searchAd:function(a){var b=c.searchAd(a);null!=b&&i.send(b,!0)},send:function(h,j){if(0===c.getMonitoredElements().length)return c.startViewabilityMap(),void a.setTimeout(f,1e3,i.send,null,i);if(a.setTimeout(f,1e3,i.send,null,i),!e.adblock&&e.testTimeout){if(null!=h&&c.getViewabilityData()[h]){var k=c.getViewabilityData()[h];k.dirty=!0;for(var l in k.algos)k.algos[l].firstclicktime||(k.algos[l].firstclicktime=k.algos[l].time,k.dirty=!0,j=!0)}a.removeVar(f,"pvid"),a.addVar(f,"pvid",b.getPvid());var m=OBOOMR.utils.onfocus_utils.getSegments();a.removeVar(f,"pagetype"),a.addVar(f,"pagetype",m.pagetype),a.removeVar(f,"category"),a.addVar(f,"category",m.category);var n=c.getViewabilityData();for(k in n)n[k].harddirty&&(j=!0);if(a.removeVar(f,"pt"),a.addVar(f,"pt",Math.round(c.getPageExposureTime()/100)),!i.lastsend||Date.now()-i.lastsend>1e4||!0===j){a.removeVar(f,"ads");var o=[];for(k in n){if(n[k].dirty){var p=n[k].camptype?n[k].camptype.replace(/[^A-Za-z0-9\u00C0-\u017F]/g,"-"):"_",q=n[k].filled?1:0,r=n[k].refable?1:0,s=n[k].adname?n[k].adname:"_",t=n[k].fpid?n[k].fpid:"_",u=n[k].fpadname?n[k].fpadname:"_",v=n[k].algos.publs.time?Math.round(n[k].algos.publs.time/100):0,w=n[k].algos.publs.firstclicktime?Math.round(n[k].algos.publs.firstclicktime/100):-1;n[k].algos.publs.last_send=v;var x=-1;n[k].algos.adsrv&&(x=n[k].algos.adsrv.time?Math.round(n[k].algos.adsrv.time/100):0,n[k].algos.adsrv.last_send=x);var y=n[k].algos.adsrv&&n[k].algos.adsrv.firstclicktime?Math.round(n[k].algos.adsrv.firstclicktime/100):-1,z=k,A=t;null!=OBOOMR.utils.renameAdId&&(z=OBOOMR.utils.renameAdId.getRenamedAd(k),A=OBOOMR.utils.renameAdId.getRenamedAd(t)),"function"==typeof g.ONFOCUS.ad_get_name&&("_"===t&&n[k].el&&(z=g.ONFOCUS.ad_get_name(n[k].el)),"_"!==t&&"_"!==s&&(z=s),"_"!==t&&"_"!==u&&(A=u)),o.push([z,p,q,r,A,v,w,x,y]),n[k].dirty=!1,n[k].harddirty=!1}if(20===o.length){a.setTimeout(f,1e3,function(){i.send(null,!0)},null,i);break}}if(0===o.length)return;o=d(o),a.removeVar(f,"adids"),a.addVar(f,"adids",o[0].join(",")),a.removeVar(f,"ctypes"),a.addVar(f,"ctypes",o[1].join(",")),a.removeVar(f,"filleds"),a.addVar(f,"filleds",o[2].join(",")),a.removeVar(f,"refabls"),a.addVar(f,"refabls",o[3].join(",")),a.removeVar(f,"fpadids"),a.addVar(f,"fpadids",o[4].join(",")),a.removeVar(f,"ts-publs"),a.addVar(f,"ts-publs",o[5].join(",")),a.removeVar(f,"cts-publs"),a.addVar(f,"cts-publs",o[6].join(",")),g.ONFOCUS.measureAdServer&&(a.removeVar(f,"ts-adsrv"),a.addVar(f,"ts-adsrv",o[7].join(",")),a.removeVar(f,"cts-adsrv"),a.addVar(f,"cts-adsrv",o[8].join(","))),i.lastsend=Date.now(),a.sendURIQuery(f,i.indy_url,"GET",a.encoders.uriQuery)}}}};OBOOMR.plugins.indy_insights_viewability={impl:i,init:function(b){var c=["indy_url"];return OBOOMR.utils.pluginConfig(i,b,f,c),i.initialized||(a.declare(f,{appid:1,uid:1,sid2:1,pvid:1}),a.subscribe(f,"page_ready",i.start,null,i),a.subscribe(f,"page_interactive",i.start,null,i),i.initialized=!0),this},is_complete:function(){return!0}}}}(),function(){if(!OBOOMR.plugins.indy_insights_attention){var a=OBOOMR.utils.indy,b=OBOOMR.utils.indy_ids,c=OBOOMR.utils.onfocus_utils,d="indy_insights_attention",e=OBOOMR.window,f={intialized:!1,started:!1,indy_url:"",start:function(){if(!this.started){f.started=!0;Math.random()>(e.ONFOCUS.attention_smp||.1)||(c.init(),c.startAttentionMonitoring(),f.send(),a.subscribe(d,"page_unload",function(){f.send(!0)},null,f))}},lastsend:null,previousMetrics:null,send:function(e){a.setTimeout(d,1e3,f.send,null,f);var g=OBOOMR.utils.onfocus_utils.getSegments();if(a.removeVar(d,"pvid"),a.addVar(d,"pvid",b.getPvid()),a.removeVar(d,"pagetype"),a.addVar(d,"pagetype",g.pagetype),a.removeVar(d,"category"),a.addVar(d,"category",g.category),!f.lastsend||Date.now()-f.lastsend>1e4||e){var h=c.getAttentionStates(),i={att:c.toDecisec(h.page.attentionMap)[0],tatts:c.toDecisec(h.top.attentionMap).join(","),batts:c.toDecisec(h.bottom.attentionMap).join(","),matt:c.toDecisec(h.middle.attentionMap)[0]};if(c.shallowEquals(i,f.previousMetrics))return;a.removeVars(d,"att","tatts","batts","matt"),a.addVar(d,i),f.lastsend=Date.now(),a.sendURIQuery(d,f.indy_url,"GET",a.encoders.uriQuery),f.previousMetrics=i}}};OBOOMR.plugins.indy_insights_attention={init:function(b){var c=["indy_url"];return OBOOMR.utils.pluginConfig(f,b,d,c),f.initialized||(a.declare(d,{appid:1,uid:1,sid2:1,pvid:1}),a.subscribe(d,"page_interactive",f.start,null,f),f.initialized=!0),this},is_complete:function(){return!0}}}}(),function(){if(!OBOOMR.plugins.indy_insights_clutter){var a=OBOOMR.utils.indy,b=OBOOMR.utils.indy_ids,c=OBOOMR.utils.onfocus_utils,d=OBOOMR.utils.blockers,e="indy_insights_clutter",f=OBOOMR.window,g={intialized:!1,started:!1,indy_url:"",page_ready:function(a,b){null!=d?(d.test(),setTimeout(function(){d.adblock||d.trackblock||g.start(a,b)},2e3)):f.setTimeout(function(){g.page_ready(a,b)},2e3)},start:function(){this.started||(c.init(),g.send(),a.subscribe(e,"page_unload",function(){g.send()},null,g),g.started=!0)},lastsend:Date.now(),previousMetrics:null,send:function(d){a.setTimeout(e,1e3,g.send,null,g);var f=c.getSegments();if(a.removeVar(e,"pvid"),a.addVar(e,"pvid",b.getPvid()),a.removeVar(e,"pagetype"),a.addVar(e,"pagetype",f.pagetype),Date.now()-g.lastsend>1e4||d){if(!c.ifVisibleNow)return;var h=c.getClutterStates(),i={slot:h.page[0]&&h.page[0].slots?h.page[0].slots:-1,share:h.page[0]&&h.page[0].shares?h.page[0].shares:-1,tslots:h.top.map(function(a){return a.slots}).join(","),tshares:h.top.map(function(a){return a.shares}).join(","),bslots:h.bottom.map(function(a){return a.slots}).join(","),bshares:h.bottom.map(function(a){return a.shares}).join(","),mslot:h.middle[0]&&h.middle[0].slots?h.middle[0].slots:-1,mshare:h.middle[0]&&h.middle[0].shares?h.middle[0].shares:-1};if(c.shallowEquals(i,g.previousMetrics))return;a.removeVars(e,"slot","share","tslots","tshares","bslots","bshares","mslot","mshare","mshare"),a.addVar(e,i),g.lastsend=Date.now(),a.sendURIQuery(e,g.indy_url,"GET",a.encoders.uriQuery),g.previousMetrics=i}}};OBOOMR.plugins.indy_insights_clutter={init:function(b){var c=["indy_url"];return OBOOMR.utils.pluginConfig(g,b,e,c),g.initialized||(a.declare(e,{appid:1,uid:1,sid2:1,pvid:1}),a.subscribe(e,"page_ready",g.page_ready,null,g),g.initialized=!0),this},is_complete:function(){return!0}}}}(),function(){"use strict";if(!OBOOMR.utils||!OBOOMR.utils.onfocus_hud){OBOOMR.utils=OBOOMR.utils||{},OBOOMR.utils.onfocus_hud=OBOOMR.utils.onfocus_hud||{};var a=OBOOMR.window,b=a.document;OBOOMR.utils.onfocus_hud={iframeOrigin:"https://iq.onfocus.io",iframePath:"/hudactive.html",initialized:!1,init:function(){OBOOMR.utils.onfocus_hud.initialized||(a.addEventListener("message",OBOOMR.utils.onfocus_hud.receiveMessage,!1),OBOOMR.utils.onfocus_hud.loadIframe(),OBOOMR.utils.onfocus_elems.initialized=!0)},receiveMessage:function(a){(a.origin||a.originalEvent.origin)===OBOOMR.utils.onfocus_hud.iframeOrigin&&"loadOnfocusAttentionHUD"==a.data&&OBOOMR.utils.onfocus_hud.loadHUD()},loadIframe:function(){var a=b.createElement("IFRAME");a.style.cssText="width: 0; height: 0; border: 0; display:none;",b.body.appendChild(a),a.src=OBOOMR.utils.onfocus_hud.iframeOrigin+OBOOMR.utils.onfocus_hud.iframePath},loadHUD:function(){var a=b.createElement("script");b.body.appendChild(a),a.setAttribute("src","https://iq.onfocus.io/attentionHUD.js")}},OBOOMR.utils.onfocus_hud.init()}}();var w=OBOOMR.window;(!w.localStorage||w.localStorage&&!w.localStorage.ONFOCUS_DEBUG)&&(OBOOMR.log=function(){}),OBOOMR.init({beacon_url:null,indy_optimizer_refresh:{indy_url:"https:"===window.location.protocol?"https://c.coll2onf.com/r.gif":"http://c.coll2onf.com/r.gif"},indy_insights_uxp:{indy_url:"https:"===window.location.protocol?"https://c.coll2onf.com/iuxp.gif":"http://c.coll2onf.com/iuxp.gif"},indy_insights_blockers:{indy_url:"https:"===window.location.protocol?"https://c.coll2onf.com/iblk.gif":"http://c.coll2onf.com/iblk.gif"},indy_insights_viewability:{indy_url:"https:"===window.location.protocol?"https://c.coll2onf.com/ivwc.gif":"http://c.coll2onf.com/ivwc.gif"},indy_insights_attention:{indy_url:"https:"===window.location.protocol?"https://c.coll2onf.com/iatt.gif":"http://c.coll2onf.com/iatt.gif"},indy_insights_clutter:{indy_url:"https:"===window.location.protocol?"https://c.coll2onf.com/iclt.gif":"http://c.coll2onf.com/iclt.gif"},indy_insights_refresh:{indy_url:"https:"===window.location.protocol?"https://c.coll2onf.com/ir.gif":"http://c.coll2onf.com/ir.gif"}}),OBOOMR.t_end=(new Date).getTime();